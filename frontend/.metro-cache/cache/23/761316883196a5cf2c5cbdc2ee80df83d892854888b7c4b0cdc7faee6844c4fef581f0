{"dependencies":[{"name":"./queryObserver.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":51,"index":83}}],"key":"T5bdga4o8lhxjwmnTyuBuLPduVg=","exportNames":["*"]}},{"name":"./infiniteQueryBehavior.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":7,"column":36,"index":187}}],"key":"Dj+TcYB7Bmtxbfu2mfnKFBaMfIM=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.InfiniteQueryObserver = void 0;\n  var _queryObserver = require(_dependencyMap[0], \"./queryObserver.js\");\n  var _infiniteQueryBehavior = require(_dependencyMap[1], \"./infiniteQueryBehavior.js\");\n  // src/infiniteQueryObserver.ts\n\n  var InfiniteQueryObserver = class extends _queryObserver.QueryObserver {\n    constructor(client, options) {\n      super(client, options);\n    }\n    bindMethods() {\n      super.bindMethods();\n      this.fetchNextPage = this.fetchNextPage.bind(this);\n      this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n    }\n    setOptions(options) {\n      super.setOptions(Object.assign({}, options, {\n        behavior: (0, _infiniteQueryBehavior.infiniteQueryBehavior)()\n      }));\n    }\n    getOptimisticResult(options) {\n      options.behavior = (0, _infiniteQueryBehavior.infiniteQueryBehavior)();\n      return super.getOptimisticResult(options);\n    }\n    fetchNextPage(options) {\n      return this.fetch(Object.assign({}, options, {\n        meta: {\n          fetchMore: {\n            direction: \"forward\"\n          }\n        }\n      }));\n    }\n    fetchPreviousPage(options) {\n      return this.fetch(Object.assign({}, options, {\n        meta: {\n          fetchMore: {\n            direction: \"backward\"\n          }\n        }\n      }));\n    }\n    createResult(query, options) {\n      const {\n        state\n      } = query;\n      const parentResult = super.createResult(query, options);\n      const {\n        isFetching,\n        isRefetching,\n        isError,\n        isRefetchError\n      } = parentResult;\n      const fetchDirection = state.fetchMeta?.fetchMore?.direction;\n      const isFetchNextPageError = isError && fetchDirection === \"forward\";\n      const isFetchingNextPage = isFetching && fetchDirection === \"forward\";\n      const isFetchPreviousPageError = isError && fetchDirection === \"backward\";\n      const isFetchingPreviousPage = isFetching && fetchDirection === \"backward\";\n      const result = Object.assign({}, parentResult, {\n        fetchNextPage: this.fetchNextPage,\n        fetchPreviousPage: this.fetchPreviousPage,\n        hasNextPage: (0, _infiniteQueryBehavior.hasNextPage)(options, state.data),\n        hasPreviousPage: (0, _infiniteQueryBehavior.hasPreviousPage)(options, state.data),\n        isFetchNextPageError,\n        isFetchingNextPage,\n        isFetchPreviousPageError,\n        isFetchingPreviousPage,\n        isRefetchError: isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n        isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n      });\n      return result;\n    }\n  };\n  exports.InfiniteQueryObserver = InfiniteQueryObserver;\n});","lineCount":78,"map":[[6,2,2,0],[6,6,2,0,"_queryObserver"],[6,20,2,0],[6,23,2,0,"require"],[6,30,2,0],[6,31,2,0,"_dependencyMap"],[6,45,2,0],[7,2,3,0],[7,6,3,0,"_infiniteQueryBehavior"],[7,28,3,0],[7,31,3,0,"require"],[7,38,3,0],[7,39,3,0,"_dependencyMap"],[7,53,3,0],[8,2,1,0],[10,2,8,0],[10,6,8,4,"InfiniteQueryObserver"],[10,27,8,25],[10,30,8,28],[10,44,8,42,"QueryObserver"],[10,72,8,55],[10,73,8,56],[11,4,9,2,"constructor"],[11,15,9,13,"constructor"],[11,16,9,14,"client"],[11,22,9,20],[11,24,9,22,"options"],[11,31,9,29],[11,33,9,31],[12,6,10,4],[12,11,10,9],[12,12,10,10,"client"],[12,18,10,16],[12,20,10,18,"options"],[12,27,10,25],[12,28,10,26],[13,4,11,2],[14,4,12,2,"bindMethods"],[14,15,12,13,"bindMethods"],[14,16,12,13],[14,18,12,16],[15,6,13,4],[15,11,13,9],[15,12,13,10,"bindMethods"],[15,23,13,21],[15,24,13,22],[15,25,13,23],[16,6,14,4],[16,10,14,8],[16,11,14,9,"fetchNextPage"],[16,24,14,22],[16,27,14,25],[16,31,14,29],[16,32,14,30,"fetchNextPage"],[16,45,14,43],[16,46,14,44,"bind"],[16,50,14,48],[16,51,14,49],[16,55,14,53],[16,56,14,54],[17,6,15,4],[17,10,15,8],[17,11,15,9,"fetchPreviousPage"],[17,28,15,26],[17,31,15,29],[17,35,15,33],[17,36,15,34,"fetchPreviousPage"],[17,53,15,51],[17,54,15,52,"bind"],[17,58,15,56],[17,59,15,57],[17,63,15,61],[17,64,15,62],[18,4,16,2],[19,4,17,2,"setOptions"],[19,14,17,12,"setOptions"],[19,15,17,13,"options"],[19,22,17,20],[19,24,17,22],[20,6,18,4],[20,11,18,9],[20,12,18,10,"setOptions"],[20,22,18,20],[20,23,18,20,"Object"],[20,29,18,20],[20,30,18,20,"assign"],[20,36,18,20],[20,41,19,9,"options"],[20,48,19,16],[21,8,20,6,"behavior"],[21,16,20,14],[21,18,20,16],[21,22,20,16,"infiniteQueryBehavior"],[21,66,20,37],[21,68,20,38],[22,6,20,39],[22,8,21,5],[22,9,21,6],[23,4,22,2],[24,4,23,2,"getOptimisticResult"],[24,23,23,21,"getOptimisticResult"],[24,24,23,22,"options"],[24,31,23,29],[24,33,23,31],[25,6,24,4,"options"],[25,13,24,11],[25,14,24,12,"behavior"],[25,22,24,20],[25,25,24,23],[25,29,24,23,"infiniteQueryBehavior"],[25,73,24,44],[25,75,24,45],[25,76,24,46],[26,6,25,4],[26,13,25,11],[26,18,25,16],[26,19,25,17,"getOptimisticResult"],[26,38,25,36],[26,39,25,37,"options"],[26,46,25,44],[26,47,25,45],[27,4,26,2],[28,4,27,2,"fetchNextPage"],[28,17,27,15,"fetchNextPage"],[28,18,27,16,"options"],[28,25,27,23],[28,27,27,25],[29,6,28,4],[29,13,28,11],[29,17,28,15],[29,18,28,16,"fetch"],[29,23,28,21],[29,24,28,21,"Object"],[29,30,28,21],[29,31,28,21,"assign"],[29,37,28,21],[29,42,29,9,"options"],[29,49,29,16],[30,8,30,6,"meta"],[30,12,30,10],[30,14,30,12],[31,10,31,8,"fetchMore"],[31,19,31,17],[31,21,31,19],[32,12,31,21,"direction"],[32,21,31,30],[32,23,31,32],[33,10,31,42],[34,8,32,6],[35,6,32,7],[35,8,33,5],[35,9,33,6],[36,4,34,2],[37,4,35,2,"fetchPreviousPage"],[37,21,35,19,"fetchPreviousPage"],[37,22,35,20,"options"],[37,29,35,27],[37,31,35,29],[38,6,36,4],[38,13,36,11],[38,17,36,15],[38,18,36,16,"fetch"],[38,23,36,21],[38,24,36,21,"Object"],[38,30,36,21],[38,31,36,21,"assign"],[38,37,36,21],[38,42,37,9,"options"],[38,49,37,16],[39,8,38,6,"meta"],[39,12,38,10],[39,14,38,12],[40,10,39,8,"fetchMore"],[40,19,39,17],[40,21,39,19],[41,12,39,21,"direction"],[41,21,39,30],[41,23,39,32],[42,10,39,43],[43,8,40,6],[44,6,40,7],[44,8,41,5],[44,9,41,6],[45,4,42,2],[46,4,43,2,"createResult"],[46,16,43,14,"createResult"],[46,17,43,15,"query"],[46,22,43,20],[46,24,43,22,"options"],[46,31,43,29],[46,33,43,31],[47,6,44,4],[47,12,44,10],[48,8,44,12,"state"],[49,6,44,18],[49,7,44,19],[49,10,44,22,"query"],[49,15,44,27],[50,6,45,4],[50,12,45,10,"parentResult"],[50,24,45,22],[50,27,45,25],[50,32,45,30],[50,33,45,31,"createResult"],[50,45,45,43],[50,46,45,44,"query"],[50,51,45,49],[50,53,45,51,"options"],[50,60,45,58],[50,61,45,59],[51,6,46,4],[51,12,46,10],[52,8,46,12,"isFetching"],[52,18,46,22],[53,8,46,24,"isRefetching"],[53,20,46,36],[54,8,46,38,"isError"],[54,15,46,45],[55,8,46,47,"isRefetchError"],[56,6,46,62],[56,7,46,63],[56,10,46,66,"parentResult"],[56,22,46,78],[57,6,47,4],[57,12,47,10,"fetchDirection"],[57,26,47,24],[57,29,47,27,"state"],[57,34,47,32],[57,35,47,33,"fetchMeta"],[57,44,47,42],[57,46,47,44,"fetchMore"],[57,55,47,53],[57,57,47,55,"direction"],[57,66,47,64],[58,6,48,4],[58,12,48,10,"isFetchNextPageError"],[58,32,48,30],[58,35,48,33,"isError"],[58,42,48,40],[58,46,48,44,"fetchDirection"],[58,60,48,58],[58,65,48,63],[58,74,48,72],[59,6,49,4],[59,12,49,10,"isFetchingNextPage"],[59,30,49,28],[59,33,49,31,"isFetching"],[59,43,49,41],[59,47,49,45,"fetchDirection"],[59,61,49,59],[59,66,49,64],[59,75,49,73],[60,6,50,4],[60,12,50,10,"isFetchPreviousPageError"],[60,36,50,34],[60,39,50,37,"isError"],[60,46,50,44],[60,50,50,48,"fetchDirection"],[60,64,50,62],[60,69,50,67],[60,79,50,77],[61,6,51,4],[61,12,51,10,"isFetchingPreviousPage"],[61,34,51,32],[61,37,51,35,"isFetching"],[61,47,51,45],[61,51,51,49,"fetchDirection"],[61,65,51,63],[61,70,51,68],[61,80,51,78],[62,6,52,4],[62,12,52,10,"result"],[62,18,52,16],[62,21,52,16,"Object"],[62,27,52,16],[62,28,52,16,"assign"],[62,34,52,16],[62,39,53,9,"parentResult"],[62,51,53,21],[63,8,54,6,"fetchNextPage"],[63,21,54,19],[63,23,54,21],[63,27,54,25],[63,28,54,26,"fetchNextPage"],[63,41,54,39],[64,8,55,6,"fetchPreviousPage"],[64,25,55,23],[64,27,55,25],[64,31,55,29],[64,32,55,30,"fetchPreviousPage"],[64,49,55,47],[65,8,56,6,"hasNextPage"],[65,19,56,17],[65,21,56,19],[65,25,56,19,"hasNextPage"],[65,59,56,30],[65,61,56,31,"options"],[65,68,56,38],[65,70,56,40,"state"],[65,75,56,45],[65,76,56,46,"data"],[65,80,56,50],[65,81,56,51],[66,8,57,6,"hasPreviousPage"],[66,23,57,21],[66,25,57,23],[66,29,57,23,"hasPreviousPage"],[66,67,57,38],[66,69,57,39,"options"],[66,76,57,46],[66,78,57,48,"state"],[66,83,57,53],[66,84,57,54,"data"],[66,88,57,58],[66,89,57,59],[67,8,58,6,"isFetchNextPageError"],[67,28,58,26],[68,8,59,6,"isFetchingNextPage"],[68,26,59,24],[69,8,60,6,"isFetchPreviousPageError"],[69,32,60,30],[70,8,61,6,"isFetchingPreviousPage"],[70,30,61,28],[71,8,62,6,"isRefetchError"],[71,22,62,20],[71,24,62,22,"isRefetchError"],[71,38,62,36],[71,42,62,40],[71,43,62,41,"isFetchNextPageError"],[71,63,62,61],[71,67,62,65],[71,68,62,66,"isFetchPreviousPageError"],[71,92,62,90],[72,8,63,6,"isRefetching"],[72,20,63,18],[72,22,63,20,"isRefetching"],[72,34,63,32],[72,38,63,36],[72,39,63,37,"isFetchingNextPage"],[72,57,63,55],[72,61,63,59],[72,62,63,60,"isFetchingPreviousPage"],[73,6,63,82],[73,8,64,5],[74,6,65,4],[74,13,65,11,"result"],[74,19,65,17],[75,4,66,2],[76,2,67,0],[76,3,67,1],[77,2,67,2,"exports"],[77,9,67,2],[77,10,67,2,"InfiniteQueryObserver"],[77,31,67,2],[77,34,67,2,"InfiniteQueryObserver"],[77,55,67,2],[78,0,67,2],[78,3]],"functionMap":{"names":["<global>","InfiniteQueryObserver","InfiniteQueryObserver#constructor","InfiniteQueryObserver#bindMethods","InfiniteQueryObserver#setOptions","InfiniteQueryObserver#getOptimisticResult","InfiniteQueryObserver#fetchNextPage","InfiniteQueryObserver#fetchPreviousPage","InfiniteQueryObserver#createResult"],"mappings":"AAA;4BCO;ECC;GDE;EEC;GFI;EGC;GHK;EIC;GJG;EKC;GLO;EMC;GNO;EOC;GPuB;CDC"}},"type":"js/module"}]}