{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":36,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"./attachHandlers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":52},"end":{"line":4,"column":50,"index":102}}],"key":"3mjR74KCCo5t43evU8Hvoyi9yu0=","exportNames":["*"]}},{"name":"./updateHandlers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":103},"end":{"line":5,"column":50,"index":153}}],"key":"lArlpaD/5d+RB4jQyU++60NVCc0=","exportNames":["*"]}},{"name":"./needsToReattach","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":154},"end":{"line":6,"column":52,"index":206}}],"key":"AnC4N1Crd90FP+3Mxk358neOkRo=","exportNames":["*"]}},{"name":"./dropHandlers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":207},"end":{"line":7,"column":46,"index":253}}],"key":"3pg09hFbTrtcJ+KzQ97dAmmPlSE=","exportNames":["*"]}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":254},"end":{"line":8,"column":67,"index":321}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"]}},{"name":"../../../findNodeHandle","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":322},"end":{"line":9,"column":53,"index":375}}],"key":"k+xfarWxri7fB3IShKFMK0oi5UQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDetectorUpdater = useDetectorUpdater;\n  var _react = require(_dependencyMap[1], \"react\");\n  var _attachHandlers = require(_dependencyMap[2], \"./attachHandlers\");\n  var _updateHandlers = require(_dependencyMap[3], \"./updateHandlers\");\n  var _needsToReattach = require(_dependencyMap[4], \"./needsToReattach\");\n  var _dropHandlers = require(_dependencyMap[5], \"./dropHandlers\");\n  var _utils = require(_dependencyMap[6], \"./utils\");\n  var _findNodeHandle = _interopRequireDefault(require(_dependencyMap[7], \"../../../findNodeHandle\"));\n  // Returns a function that's responsible for updating the attached gestures\n  // If the view has changed, it will reattach the handlers to the new view\n  // If the view remains the same, it will update the handlers with the new config\n  function useDetectorUpdater(state, preparedGesture, gesturesToAttach, gestureConfig, webEventHandlersRef) {\n    const forceRender = (0, _utils.useForceRender)();\n    const updateAttachedGestures = (0, _react.useCallback)(\n    // skipConfigUpdate is used to prevent unnecessary updates when only checking if the view has changed\n    skipConfigUpdate => {\n      // If the underlying view has changed we need to reattach handlers to the new view\n      const viewTag = (0, _findNodeHandle.default)(state.viewRef);\n      const didUnderlyingViewChange = viewTag !== state.previousViewTag;\n      if (didUnderlyingViewChange || (0, _needsToReattach.needsToReattach)(preparedGesture, gesturesToAttach)) {\n        (0, _utils.validateDetectorChildren)(state.viewRef);\n        (0, _dropHandlers.dropHandlers)(preparedGesture);\n        (0, _attachHandlers.attachHandlers)({\n          preparedGesture,\n          gestureConfig,\n          gesturesToAttach,\n          webEventHandlersRef,\n          viewTag\n        });\n        if (didUnderlyingViewChange) {\n          state.previousViewTag = viewTag;\n          state.forceRebuildReanimatedEvent = true;\n          forceRender();\n        }\n      } else if (!skipConfigUpdate) {\n        (0, _updateHandlers.updateHandlers)(preparedGesture, gestureConfig, gesturesToAttach);\n      }\n    }, [forceRender, gestureConfig, gesturesToAttach, preparedGesture, state, webEventHandlersRef]);\n    return updateAttachedGestures;\n  }\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useDetectorUpdater"],[8,28,1,13],[8,31,1,13,"useDetectorUpdater"],[8,49,1,13],[9,2,3,0],[9,6,3,0,"_react"],[9,12,3,0],[9,15,3,0,"require"],[9,22,3,0],[9,23,3,0,"_dependencyMap"],[9,37,3,0],[10,2,4,0],[10,6,4,0,"_attachHandlers"],[10,21,4,0],[10,24,4,0,"require"],[10,31,4,0],[10,32,4,0,"_dependencyMap"],[10,46,4,0],[11,2,5,0],[11,6,5,0,"_updateHandlers"],[11,21,5,0],[11,24,5,0,"require"],[11,31,5,0],[11,32,5,0,"_dependencyMap"],[11,46,5,0],[12,2,6,0],[12,6,6,0,"_needsToReattach"],[12,22,6,0],[12,25,6,0,"require"],[12,32,6,0],[12,33,6,0,"_dependencyMap"],[12,47,6,0],[13,2,7,0],[13,6,7,0,"_dropHandlers"],[13,19,7,0],[13,22,7,0,"require"],[13,29,7,0],[13,30,7,0,"_dependencyMap"],[13,44,7,0],[14,2,8,0],[14,6,8,0,"_utils"],[14,12,8,0],[14,15,8,0,"require"],[14,22,8,0],[14,23,8,0,"_dependencyMap"],[14,37,8,0],[15,2,9,0],[15,6,9,0,"_findNodeHandle"],[15,21,9,0],[15,24,9,0,"_interopRequireDefault"],[15,46,9,0],[15,47,9,0,"require"],[15,54,9,0],[15,55,9,0,"_dependencyMap"],[15,69,9,0],[16,2,11,0],[17,2,12,0],[18,2,13,0],[19,2,14,7],[19,11,14,16,"useDetectorUpdater"],[19,29,14,34,"useDetectorUpdater"],[19,30,14,35,"state"],[19,35,14,40],[19,37,14,42,"preparedGesture"],[19,52,14,57],[19,54,14,59,"gesturesToAttach"],[19,70,14,75],[19,72,14,77,"gestureConfig"],[19,85,14,90],[19,87,14,92,"webEventHandlersRef"],[19,106,14,111],[19,108,14,113],[20,4,15,2],[20,10,15,8,"forceRender"],[20,21,15,19],[20,24,15,22],[20,28,15,22,"useForceRender"],[20,49,15,36],[20,51,15,37],[20,52,15,38],[21,4,16,2],[21,10,16,8,"updateAttachedGestures"],[21,32,16,30],[21,35,16,33],[21,39,16,33,"useCallback"],[21,57,16,44],[22,4,17,2],[23,4,18,2,"skipConfigUpdate"],[23,20,18,18],[23,24,18,22],[24,6,19,4],[25,6,20,4],[25,12,20,10,"viewTag"],[25,19,20,17],[25,22,20,20],[25,26,20,20,"findNodeHandle"],[25,49,20,34],[25,51,20,35,"state"],[25,56,20,40],[25,57,20,41,"viewRef"],[25,64,20,48],[25,65,20,49],[26,6,21,4],[26,12,21,10,"didUnderlyingViewChange"],[26,35,21,33],[26,38,21,36,"viewTag"],[26,45,21,43],[26,50,21,48,"state"],[26,55,21,53],[26,56,21,54,"previousViewTag"],[26,71,21,69],[27,6,22,4],[27,10,22,8,"didUnderlyingViewChange"],[27,33,22,31],[27,37,22,35],[27,41,22,35,"needsToReattach"],[27,73,22,50],[27,75,22,51,"preparedGesture"],[27,90,22,66],[27,92,22,68,"gesturesToAttach"],[27,108,22,84],[27,109,22,85],[27,111,22,87],[28,8,23,6],[28,12,23,6,"validateDetectorChildren"],[28,43,23,30],[28,45,23,31,"state"],[28,50,23,36],[28,51,23,37,"viewRef"],[28,58,23,44],[28,59,23,45],[29,8,24,6],[29,12,24,6,"dropHandlers"],[29,38,24,18],[29,40,24,19,"preparedGesture"],[29,55,24,34],[29,56,24,35],[30,8,25,6],[30,12,25,6,"attachHandlers"],[30,42,25,20],[30,44,25,21],[31,10,26,8,"preparedGesture"],[31,25,26,23],[32,10,27,8,"gestureConfig"],[32,23,27,21],[33,10,28,8,"gesturesToAttach"],[33,26,28,24],[34,10,29,8,"webEventHandlersRef"],[34,29,29,27],[35,10,30,8,"viewTag"],[36,8,31,6],[36,9,31,7],[36,10,31,8],[37,8,32,6],[37,12,32,10,"didUnderlyingViewChange"],[37,35,32,33],[37,37,32,35],[38,10,33,8,"state"],[38,15,33,13],[38,16,33,14,"previousViewTag"],[38,31,33,29],[38,34,33,32,"viewTag"],[38,41,33,39],[39,10,34,8,"state"],[39,15,34,13],[39,16,34,14,"forceRebuildReanimatedEvent"],[39,43,34,41],[39,46,34,44],[39,50,34,48],[40,10,35,8,"forceRender"],[40,21,35,19],[40,22,35,20],[40,23,35,21],[41,8,36,6],[42,6,37,4],[42,7,37,5],[42,13,37,11],[42,17,37,15],[42,18,37,16,"skipConfigUpdate"],[42,34,37,32],[42,36,37,34],[43,8,38,6],[43,12,38,6,"updateHandlers"],[43,42,38,20],[43,44,38,21,"preparedGesture"],[43,59,38,36],[43,61,38,38,"gestureConfig"],[43,74,38,51],[43,76,38,53,"gesturesToAttach"],[43,92,38,69],[43,93,38,70],[44,6,39,4],[45,4,40,2],[45,5,40,3],[45,7,40,5],[45,8,40,6,"forceRender"],[45,19,40,17],[45,21,40,19,"gestureConfig"],[45,34,40,32],[45,36,40,34,"gesturesToAttach"],[45,52,40,50],[45,54,40,52,"preparedGesture"],[45,69,40,67],[45,71,40,69,"state"],[45,76,40,74],[45,78,40,76,"webEventHandlersRef"],[45,97,40,95],[45,98,40,96],[45,99,40,97],[46,4,41,2],[46,11,41,9,"updateAttachedGestures"],[46,33,41,31],[47,2,42,0],[48,0,42,1],[48,3]],"functionMap":{"names":["<global>","useDetectorUpdater","updateAttachedGestures"],"mappings":"AAA;OCa;ECI;GDsB;CDE"}},"type":"js/module"}]}