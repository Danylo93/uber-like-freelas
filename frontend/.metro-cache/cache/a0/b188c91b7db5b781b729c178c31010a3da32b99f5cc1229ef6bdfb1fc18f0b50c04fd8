{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  class InteractionManager {\n    waitForRelations = new Map();\n    simultaneousRelations = new Map();\n    blocksHandlersRelations = new Map();\n\n    // Private becaues of singleton\n    // eslint-disable-next-line no-useless-constructor, @typescript-eslint/no-empty-function\n    constructor() {}\n    configureInteractions(handler, config) {\n      this.dropRelationsForHandlerWithTag(handler.handlerTag);\n      if (config.waitFor) {\n        const waitFor = [];\n        config.waitFor.forEach(otherHandler => {\n          // New API reference\n          if (typeof otherHandler === 'number') {\n            waitFor.push(otherHandler);\n          } else {\n            // Old API reference\n            waitFor.push(otherHandler.handlerTag);\n          }\n        });\n        this.waitForRelations.set(handler.handlerTag, waitFor);\n      }\n      if (config.simultaneousHandlers) {\n        const simultaneousHandlers = [];\n        config.simultaneousHandlers.forEach(otherHandler => {\n          if (typeof otherHandler === 'number') {\n            simultaneousHandlers.push(otherHandler);\n          } else {\n            simultaneousHandlers.push(otherHandler.handlerTag);\n          }\n        });\n        this.simultaneousRelations.set(handler.handlerTag, simultaneousHandlers);\n      }\n      if (config.blocksHandlers) {\n        const blocksHandlers = [];\n        config.blocksHandlers.forEach(otherHandler => {\n          if (typeof otherHandler === 'number') {\n            blocksHandlers.push(otherHandler);\n          } else {\n            blocksHandlers.push(otherHandler.handlerTag);\n          }\n        });\n        this.blocksHandlersRelations.set(handler.handlerTag, blocksHandlers);\n      }\n    }\n    shouldWaitForHandlerFailure(handler, otherHandler) {\n      const waitFor = this.waitForRelations.get(handler.handlerTag);\n      return waitFor?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldRecognizeSimultaneously(handler, otherHandler) {\n      const simultaneousHandlers = this.simultaneousRelations.get(handler.handlerTag);\n      return simultaneousHandlers?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldRequireHandlerToWaitForFailure(handler, otherHandler) {\n      const waitFor = this.blocksHandlersRelations.get(handler.handlerTag);\n      return waitFor?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldHandlerBeCancelledBy(_handler, otherHandler) {\n      // We check constructor name instead of using `instanceof` in order do avoid circular dependencies\n      const isNativeHandler = otherHandler.constructor.name === 'NativeViewGestureHandler';\n      const isActive = otherHandler.active;\n      const isButton = otherHandler.isButton?.() === true;\n      return isNativeHandler && isActive && !isButton;\n    }\n    dropRelationsForHandlerWithTag(handlerTag) {\n      this.waitForRelations.delete(handlerTag);\n      this.simultaneousRelations.delete(handlerTag);\n      this.blocksHandlersRelations.delete(handlerTag);\n    }\n    reset() {\n      this.waitForRelations.clear();\n      this.simultaneousRelations.clear();\n      this.blocksHandlersRelations.clear();\n    }\n    static get instance() {\n      if (!this._instance) {\n        this._instance = new InteractionManager();\n      }\n      return this._instance;\n    }\n  }\n  exports.default = InteractionManager;\n});","lineCount":97,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"default"],[7,17,1,13],[8,2,3,15],[8,8,3,21,"InteractionManager"],[8,26,3,39],[8,27,3,40],[9,4,4,2,"waitForRelations"],[9,20,4,18],[9,23,4,21],[9,27,4,25,"Map"],[9,30,4,28],[9,31,4,29],[9,32,4,30],[10,4,5,2,"simultaneousRelations"],[10,25,5,23],[10,28,5,26],[10,32,5,30,"Map"],[10,35,5,33],[10,36,5,34],[10,37,5,35],[11,4,6,2,"blocksHandlersRelations"],[11,27,6,25],[11,30,6,28],[11,34,6,32,"Map"],[11,37,6,35],[11,38,6,36],[11,39,6,37],[13,4,8,2],[14,4,9,2],[15,4,10,2,"constructor"],[15,15,10,13,"constructor"],[15,16,10,13],[15,18,10,16],[15,19,10,17],[16,4,11,2,"configureInteractions"],[16,25,11,23,"configureInteractions"],[16,26,11,24,"handler"],[16,33,11,31],[16,35,11,33,"config"],[16,41,11,39],[16,43,11,41],[17,6,12,4],[17,10,12,8],[17,11,12,9,"dropRelationsForHandlerWithTag"],[17,41,12,39],[17,42,12,40,"handler"],[17,49,12,47],[17,50,12,48,"handlerTag"],[17,60,12,58],[17,61,12,59],[18,6,13,4],[18,10,13,8,"config"],[18,16,13,14],[18,17,13,15,"waitFor"],[18,24,13,22],[18,26,13,24],[19,8,14,6],[19,14,14,12,"waitFor"],[19,21,14,19],[19,24,14,22],[19,26,14,24],[20,8,15,6,"config"],[20,14,15,12],[20,15,15,13,"waitFor"],[20,22,15,20],[20,23,15,21,"forEach"],[20,30,15,28],[20,31,15,29,"otherHandler"],[20,43,15,41],[20,47,15,45],[21,10,16,8],[22,10,17,8],[22,14,17,12],[22,21,17,19,"otherHandler"],[22,33,17,31],[22,38,17,36],[22,46,17,44],[22,48,17,46],[23,12,18,10,"waitFor"],[23,19,18,17],[23,20,18,18,"push"],[23,24,18,22],[23,25,18,23,"otherHandler"],[23,37,18,35],[23,38,18,36],[24,10,19,8],[24,11,19,9],[24,17,19,15],[25,12,20,10],[26,12,21,10,"waitFor"],[26,19,21,17],[26,20,21,18,"push"],[26,24,21,22],[26,25,21,23,"otherHandler"],[26,37,21,35],[26,38,21,36,"handlerTag"],[26,48,21,46],[26,49,21,47],[27,10,22,8],[28,8,23,6],[28,9,23,7],[28,10,23,8],[29,8,24,6],[29,12,24,10],[29,13,24,11,"waitForRelations"],[29,29,24,27],[29,30,24,28,"set"],[29,33,24,31],[29,34,24,32,"handler"],[29,41,24,39],[29,42,24,40,"handlerTag"],[29,52,24,50],[29,54,24,52,"waitFor"],[29,61,24,59],[29,62,24,60],[30,6,25,4],[31,6,26,4],[31,10,26,8,"config"],[31,16,26,14],[31,17,26,15,"simultaneousHandlers"],[31,37,26,35],[31,39,26,37],[32,8,27,6],[32,14,27,12,"simultaneousHandlers"],[32,34,27,32],[32,37,27,35],[32,39,27,37],[33,8,28,6,"config"],[33,14,28,12],[33,15,28,13,"simultaneousHandlers"],[33,35,28,33],[33,36,28,34,"forEach"],[33,43,28,41],[33,44,28,42,"otherHandler"],[33,56,28,54],[33,60,28,58],[34,10,29,8],[34,14,29,12],[34,21,29,19,"otherHandler"],[34,33,29,31],[34,38,29,36],[34,46,29,44],[34,48,29,46],[35,12,30,10,"simultaneousHandlers"],[35,32,30,30],[35,33,30,31,"push"],[35,37,30,35],[35,38,30,36,"otherHandler"],[35,50,30,48],[35,51,30,49],[36,10,31,8],[36,11,31,9],[36,17,31,15],[37,12,32,10,"simultaneousHandlers"],[37,32,32,30],[37,33,32,31,"push"],[37,37,32,35],[37,38,32,36,"otherHandler"],[37,50,32,48],[37,51,32,49,"handlerTag"],[37,61,32,59],[37,62,32,60],[38,10,33,8],[39,8,34,6],[39,9,34,7],[39,10,34,8],[40,8,35,6],[40,12,35,10],[40,13,35,11,"simultaneousRelations"],[40,34,35,32],[40,35,35,33,"set"],[40,38,35,36],[40,39,35,37,"handler"],[40,46,35,44],[40,47,35,45,"handlerTag"],[40,57,35,55],[40,59,35,57,"simultaneousHandlers"],[40,79,35,77],[40,80,35,78],[41,6,36,4],[42,6,37,4],[42,10,37,8,"config"],[42,16,37,14],[42,17,37,15,"blocksHandlers"],[42,31,37,29],[42,33,37,31],[43,8,38,6],[43,14,38,12,"blocksHandlers"],[43,28,38,26],[43,31,38,29],[43,33,38,31],[44,8,39,6,"config"],[44,14,39,12],[44,15,39,13,"blocksHandlers"],[44,29,39,27],[44,30,39,28,"forEach"],[44,37,39,35],[44,38,39,36,"otherHandler"],[44,50,39,48],[44,54,39,52],[45,10,40,8],[45,14,40,12],[45,21,40,19,"otherHandler"],[45,33,40,31],[45,38,40,36],[45,46,40,44],[45,48,40,46],[46,12,41,10,"blocksHandlers"],[46,26,41,24],[46,27,41,25,"push"],[46,31,41,29],[46,32,41,30,"otherHandler"],[46,44,41,42],[46,45,41,43],[47,10,42,8],[47,11,42,9],[47,17,42,15],[48,12,43,10,"blocksHandlers"],[48,26,43,24],[48,27,43,25,"push"],[48,31,43,29],[48,32,43,30,"otherHandler"],[48,44,43,42],[48,45,43,43,"handlerTag"],[48,55,43,53],[48,56,43,54],[49,10,44,8],[50,8,45,6],[50,9,45,7],[50,10,45,8],[51,8,46,6],[51,12,46,10],[51,13,46,11,"blocksHandlersRelations"],[51,36,46,34],[51,37,46,35,"set"],[51,40,46,38],[51,41,46,39,"handler"],[51,48,46,46],[51,49,46,47,"handlerTag"],[51,59,46,57],[51,61,46,59,"blocksHandlers"],[51,75,46,73],[51,76,46,74],[52,6,47,4],[53,4,48,2],[54,4,49,2,"shouldWaitForHandlerFailure"],[54,31,49,29,"shouldWaitForHandlerFailure"],[54,32,49,30,"handler"],[54,39,49,37],[54,41,49,39,"otherHandler"],[54,53,49,51],[54,55,49,53],[55,6,50,4],[55,12,50,10,"waitFor"],[55,19,50,17],[55,22,50,20],[55,26,50,24],[55,27,50,25,"waitForRelations"],[55,43,50,41],[55,44,50,42,"get"],[55,47,50,45],[55,48,50,46,"handler"],[55,55,50,53],[55,56,50,54,"handlerTag"],[55,66,50,64],[55,67,50,65],[56,6,51,4],[56,13,51,11,"waitFor"],[56,20,51,18],[56,22,51,20,"find"],[56,26,51,24],[56,27,51,25,"tag"],[56,30,51,28],[56,34,51,32],[57,8,52,6],[57,15,52,13,"tag"],[57,18,52,16],[57,23,52,21,"otherHandler"],[57,35,52,33],[57,36,52,34,"handlerTag"],[57,46,52,44],[58,6,53,4],[58,7,53,5],[58,8,53,6],[58,13,53,11,"undefined"],[58,22,53,20],[59,4,54,2],[60,4,55,2,"shouldRecognizeSimultaneously"],[60,33,55,31,"shouldRecognizeSimultaneously"],[60,34,55,32,"handler"],[60,41,55,39],[60,43,55,41,"otherHandler"],[60,55,55,53],[60,57,55,55],[61,6,56,4],[61,12,56,10,"simultaneousHandlers"],[61,32,56,30],[61,35,56,33],[61,39,56,37],[61,40,56,38,"simultaneousRelations"],[61,61,56,59],[61,62,56,60,"get"],[61,65,56,63],[61,66,56,64,"handler"],[61,73,56,71],[61,74,56,72,"handlerTag"],[61,84,56,82],[61,85,56,83],[62,6,57,4],[62,13,57,11,"simultaneousHandlers"],[62,33,57,31],[62,35,57,33,"find"],[62,39,57,37],[62,40,57,38,"tag"],[62,43,57,41],[62,47,57,45],[63,8,58,6],[63,15,58,13,"tag"],[63,18,58,16],[63,23,58,21,"otherHandler"],[63,35,58,33],[63,36,58,34,"handlerTag"],[63,46,58,44],[64,6,59,4],[64,7,59,5],[64,8,59,6],[64,13,59,11,"undefined"],[64,22,59,20],[65,4,60,2],[66,4,61,2,"shouldRequireHandlerToWaitForFailure"],[66,40,61,38,"shouldRequireHandlerToWaitForFailure"],[66,41,61,39,"handler"],[66,48,61,46],[66,50,61,48,"otherHandler"],[66,62,61,60],[66,64,61,62],[67,6,62,4],[67,12,62,10,"waitFor"],[67,19,62,17],[67,22,62,20],[67,26,62,24],[67,27,62,25,"blocksHandlersRelations"],[67,50,62,48],[67,51,62,49,"get"],[67,54,62,52],[67,55,62,53,"handler"],[67,62,62,60],[67,63,62,61,"handlerTag"],[67,73,62,71],[67,74,62,72],[68,6,63,4],[68,13,63,11,"waitFor"],[68,20,63,18],[68,22,63,20,"find"],[68,26,63,24],[68,27,63,25,"tag"],[68,30,63,28],[68,34,63,32],[69,8,64,6],[69,15,64,13,"tag"],[69,18,64,16],[69,23,64,21,"otherHandler"],[69,35,64,33],[69,36,64,34,"handlerTag"],[69,46,64,44],[70,6,65,4],[70,7,65,5],[70,8,65,6],[70,13,65,11,"undefined"],[70,22,65,20],[71,4,66,2],[72,4,67,2,"shouldHandlerBeCancelledBy"],[72,30,67,28,"shouldHandlerBeCancelledBy"],[72,31,67,29,"_handler"],[72,39,67,37],[72,41,67,39,"otherHandler"],[72,53,67,51],[72,55,67,53],[73,6,68,4],[74,6,69,4],[74,12,69,10,"isNativeHandler"],[74,27,69,25],[74,30,69,28,"otherHandler"],[74,42,69,40],[74,43,69,41,"constructor"],[74,54,69,52],[74,55,69,53,"name"],[74,59,69,57],[74,64,69,62],[74,90,69,88],[75,6,70,4],[75,12,70,10,"isActive"],[75,20,70,18],[75,23,70,21,"otherHandler"],[75,35,70,33],[75,36,70,34,"active"],[75,42,70,40],[76,6,71,4],[76,12,71,10,"isButton"],[76,20,71,18],[76,23,71,21,"otherHandler"],[76,35,71,33],[76,36,71,34,"isButton"],[76,44,71,42],[76,47,71,45],[76,48,71,46],[76,53,71,51],[76,57,71,55],[77,6,72,4],[77,13,72,11,"isNativeHandler"],[77,28,72,26],[77,32,72,30,"isActive"],[77,40,72,38],[77,44,72,42],[77,45,72,43,"isButton"],[77,53,72,51],[78,4,73,2],[79,4,74,2,"dropRelationsForHandlerWithTag"],[79,34,74,32,"dropRelationsForHandlerWithTag"],[79,35,74,33,"handlerTag"],[79,45,74,43],[79,47,74,45],[80,6,75,4],[80,10,75,8],[80,11,75,9,"waitForRelations"],[80,27,75,25],[80,28,75,26,"delete"],[80,34,75,32],[80,35,75,33,"handlerTag"],[80,45,75,43],[80,46,75,44],[81,6,76,4],[81,10,76,8],[81,11,76,9,"simultaneousRelations"],[81,32,76,30],[81,33,76,31,"delete"],[81,39,76,37],[81,40,76,38,"handlerTag"],[81,50,76,48],[81,51,76,49],[82,6,77,4],[82,10,77,8],[82,11,77,9,"blocksHandlersRelations"],[82,34,77,32],[82,35,77,33,"delete"],[82,41,77,39],[82,42,77,40,"handlerTag"],[82,52,77,50],[82,53,77,51],[83,4,78,2],[84,4,79,2,"reset"],[84,9,79,7,"reset"],[84,10,79,7],[84,12,79,10],[85,6,80,4],[85,10,80,8],[85,11,80,9,"waitForRelations"],[85,27,80,25],[85,28,80,26,"clear"],[85,33,80,31],[85,34,80,32],[85,35,80,33],[86,6,81,4],[86,10,81,8],[86,11,81,9,"simultaneousRelations"],[86,32,81,30],[86,33,81,31,"clear"],[86,38,81,36],[86,39,81,37],[86,40,81,38],[87,6,82,4],[87,10,82,8],[87,11,82,9,"blocksHandlersRelations"],[87,34,82,32],[87,35,82,33,"clear"],[87,40,82,38],[87,41,82,39],[87,42,82,40],[88,4,83,2],[89,4,84,2],[89,15,84,13,"instance"],[89,23,84,21,"instance"],[89,24,84,21],[89,26,84,24],[90,6,85,4],[90,10,85,8],[90,11,85,9],[90,15,85,13],[90,16,85,14,"_instance"],[90,25,85,23],[90,27,85,25],[91,8,86,6],[91,12,86,10],[91,13,86,11,"_instance"],[91,22,86,20],[91,25,86,23],[91,29,86,27,"InteractionManager"],[91,47,86,45],[91,48,86,46],[91,49,86,47],[92,6,87,4],[93,6,88,4],[93,13,88,11],[93,17,88,15],[93,18,88,16,"_instance"],[93,27,88,25],[94,4,89,2],[95,2,90,0],[96,2,90,1,"exports"],[96,9,90,1],[96,10,90,1,"default"],[96,17,90,1],[96,20,90,1,"InteractionManager"],[96,38,90,1],[97,0,90,1],[97,3]],"functionMap":{"names":["<global>","InteractionManager","constructor","configureInteractions","config.waitFor.forEach$argument_0","config.simultaneousHandlers.forEach$argument_0","config.blocksHandlers.forEach$argument_0","shouldWaitForHandlerFailure","waitFor.find$argument_0","shouldRecognizeSimultaneously","simultaneousHandlers.find$argument_0","shouldRequireHandlerToWaitForFailure","shouldHandlerBeCancelledBy","dropRelationsForHandlerWithTag","reset","get__instance"],"mappings":"AAA;eCE;ECO,gBD;EEC;6BCI;ODQ;0CEK;OFM;oCGK;OHM;GFG;EMC;yBCE;KDE;GNC;EQC;sCCE;KDE;GRC;EUC;yBHE;KGE;GVC;EWC;GXM;EYC;GZI;EaC;GbI;EcC;GdK;CDC"}},"type":"js/module"}]}