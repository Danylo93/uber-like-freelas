{"dependencies":[{"name":"./parser","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":15,"index":30},"end":{"line":3,"column":34,"index":49}}],"key":"FmGTSeJZ/sRo3ZQza+Wy1CXXMyM=","exportNames":["*"]}},{"name":"./pipeline","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":15,"index":66},"end":{"line":4,"column":36,"index":87}}],"key":"KdrO32Ht0cw3qKKsQKjxBucwInk=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Parser = require(_dependencyMap[0], \"./parser\"),\n    Pipeline = require(_dependencyMap[1], \"./pipeline\");\n  var Extensions = function () {\n    this._rsv1 = this._rsv2 = this._rsv3 = null;\n    this._byName = {};\n    this._inOrder = [];\n    this._sessions = [];\n    this._index = {};\n  };\n  Extensions.MESSAGE_OPCODES = [1, 2];\n  var instance = {\n    add: function (ext) {\n      if (typeof ext.name !== 'string') throw new TypeError('extension.name must be a string');\n      if (ext.type !== 'permessage') throw new TypeError('extension.type must be \"permessage\"');\n      if (typeof ext.rsv1 !== 'boolean') throw new TypeError('extension.rsv1 must be true or false');\n      if (typeof ext.rsv2 !== 'boolean') throw new TypeError('extension.rsv2 must be true or false');\n      if (typeof ext.rsv3 !== 'boolean') throw new TypeError('extension.rsv3 must be true or false');\n      if (this._byName.hasOwnProperty(ext.name)) throw new TypeError('An extension with name \"' + ext.name + '\" is already registered');\n      this._byName[ext.name] = ext;\n      this._inOrder.push(ext);\n    },\n    generateOffer: function () {\n      var sessions = [],\n        offer = [],\n        index = {};\n      this._inOrder.forEach(function (ext) {\n        var session = ext.createClientSession();\n        if (!session) return;\n        var record = [ext, session];\n        sessions.push(record);\n        index[ext.name] = record;\n        var offers = session.generateOffer();\n        offers = offers ? [].concat(offers) : [];\n        offers.forEach(function (off) {\n          offer.push(Parser.serializeParams(ext.name, off));\n        }, this);\n      }, this);\n      this._sessions = sessions;\n      this._index = index;\n      return offer.length > 0 ? offer.join(', ') : null;\n    },\n    activate: function (header) {\n      var responses = Parser.parseHeader(header),\n        sessions = [];\n      responses.eachOffer(function (name, params) {\n        var record = this._index[name];\n        if (!record) throw new Error('Server sent an extension response for unknown extension \"' + name + '\"');\n        var ext = record[0],\n          session = record[1],\n          reserved = this._reserved(ext);\n        if (reserved) throw new Error('Server sent two extension responses that use the RSV' + reserved[0] + ' bit: \"' + reserved[1] + '\" and \"' + ext.name + '\"');\n        if (session.activate(params) !== true) throw new Error('Server sent unacceptable extension parameters: ' + Parser.serializeParams(name, params));\n        this._reserve(ext);\n        sessions.push(record);\n      }, this);\n      this._sessions = sessions;\n      this._pipeline = new Pipeline(sessions);\n    },\n    generateResponse: function (header) {\n      var sessions = [],\n        response = [],\n        offers = Parser.parseHeader(header);\n      this._inOrder.forEach(function (ext) {\n        var offer = offers.byName(ext.name);\n        if (offer.length === 0 || this._reserved(ext)) return;\n        var session = ext.createServerSession(offer);\n        if (!session) return;\n        this._reserve(ext);\n        sessions.push([ext, session]);\n        response.push(Parser.serializeParams(ext.name, session.generateResponse()));\n      }, this);\n      this._sessions = sessions;\n      this._pipeline = new Pipeline(sessions);\n      return response.length > 0 ? response.join(', ') : null;\n    },\n    validFrameRsv: function (frame) {\n      var allowed = {\n          rsv1: false,\n          rsv2: false,\n          rsv3: false\n        },\n        ext;\n      if (Extensions.MESSAGE_OPCODES.indexOf(frame.opcode) >= 0) {\n        for (var i = 0, n = this._sessions.length; i < n; i++) {\n          ext = this._sessions[i][0];\n          allowed.rsv1 = allowed.rsv1 || ext.rsv1;\n          allowed.rsv2 = allowed.rsv2 || ext.rsv2;\n          allowed.rsv3 = allowed.rsv3 || ext.rsv3;\n        }\n      }\n      return (allowed.rsv1 || !frame.rsv1) && (allowed.rsv2 || !frame.rsv2) && (allowed.rsv3 || !frame.rsv3);\n    },\n    processIncomingMessage: function (message, callback, context) {\n      this._pipeline.processIncomingMessage(message, callback, context);\n    },\n    processOutgoingMessage: function (message, callback, context) {\n      this._pipeline.processOutgoingMessage(message, callback, context);\n    },\n    close: function (callback, context) {\n      if (!this._pipeline) return callback.call(context);\n      this._pipeline.close(callback, context);\n    },\n    _reserve: function (ext) {\n      this._rsv1 = this._rsv1 || ext.rsv1 && ext.name;\n      this._rsv2 = this._rsv2 || ext.rsv2 && ext.name;\n      this._rsv3 = this._rsv3 || ext.rsv3 && ext.name;\n    },\n    _reserved: function (ext) {\n      if (this._rsv1 && ext.rsv1) return [1, this._rsv1];\n      if (this._rsv2 && ext.rsv2) return [2, this._rsv2];\n      if (this._rsv3 && ext.rsv3) return [3, this._rsv3];\n      return false;\n    }\n  };\n  for (var key in instance) Extensions.prototype[key] = instance[key];\n  module.exports = Extensions;\n});","lineCount":120,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"Parser"],[4,12,3,10],[4,15,3,15,"require"],[4,22,3,22],[4,23,3,22,"_dependencyMap"],[4,37,3,22],[4,52,3,33],[4,53,3,34],[5,4,4,4,"Pipeline"],[5,12,4,12],[5,15,4,15,"require"],[5,22,4,22],[5,23,4,22,"_dependencyMap"],[5,37,4,22],[5,54,4,35],[5,55,4,36],[6,2,6,0],[6,6,6,4,"Extensions"],[6,16,6,14],[6,19,6,17],[6,28,6,17,"Extensions"],[6,29,6,17],[6,31,6,28],[7,4,7,2],[7,8,7,6],[7,9,7,7,"_rsv1"],[7,14,7,12],[7,17,7,15],[7,21,7,19],[7,22,7,20,"_rsv2"],[7,27,7,25],[7,30,7,28],[7,34,7,32],[7,35,7,33,"_rsv3"],[7,40,7,38],[7,43,7,41],[7,47,7,45],[8,4,9,2],[8,8,9,6],[8,9,9,7,"_byName"],[8,16,9,14],[8,19,9,19],[8,20,9,20],[8,21,9,21],[9,4,10,2],[9,8,10,6],[9,9,10,7,"_inOrder"],[9,17,10,15],[9,20,10,19],[9,22,10,21],[10,4,11,2],[10,8,11,6],[10,9,11,7,"_sessions"],[10,18,11,16],[10,21,11,19],[10,23,11,21],[11,4,12,2],[11,8,12,6],[11,9,12,7,"_index"],[11,15,12,13],[11,18,12,19],[11,19,12,20],[11,20,12,21],[12,2,13,0],[12,3,13,1],[13,2,15,0,"Extensions"],[13,12,15,10],[13,13,15,11,"MESSAGE_OPCODES"],[13,28,15,26],[13,31,15,29],[13,32,15,30],[13,33,15,31],[13,35,15,33],[13,36,15,34],[13,37,15,35],[14,2,17,0],[14,6,17,4,"instance"],[14,14,17,12],[14,17,17,15],[15,4,18,2,"add"],[15,7,18,5],[15,9,18,7],[15,18,18,7,"add"],[15,19,18,16,"ext"],[15,22,18,19],[15,24,18,21],[16,6,19,4],[16,10,19,8],[16,17,19,15,"ext"],[16,20,19,18],[16,21,19,19,"name"],[16,25,19,23],[16,30,19,28],[16,38,19,36],[16,40,19,38],[16,46,19,44],[16,50,19,48,"TypeError"],[16,59,19,57],[16,60,19,58],[16,93,19,91],[16,94,19,92],[17,6,20,4],[17,10,20,8,"ext"],[17,13,20,11],[17,14,20,12,"type"],[17,18,20,16],[17,23,20,21],[17,35,20,33],[17,37,20,35],[17,43,20,41],[17,47,20,45,"TypeError"],[17,56,20,54],[17,57,20,55],[17,94,20,92],[17,95,20,93],[18,6,22,4],[18,10,22,8],[18,17,22,15,"ext"],[18,20,22,18],[18,21,22,19,"rsv1"],[18,25,22,23],[18,30,22,28],[18,39,22,37],[18,41,22,39],[18,47,22,45],[18,51,22,49,"TypeError"],[18,60,22,58],[18,61,22,59],[18,99,22,97],[18,100,22,98],[19,6,23,4],[19,10,23,8],[19,17,23,15,"ext"],[19,20,23,18],[19,21,23,19,"rsv2"],[19,25,23,23],[19,30,23,28],[19,39,23,37],[19,41,23,39],[19,47,23,45],[19,51,23,49,"TypeError"],[19,60,23,58],[19,61,23,59],[19,99,23,97],[19,100,23,98],[20,6,24,4],[20,10,24,8],[20,17,24,15,"ext"],[20,20,24,18],[20,21,24,19,"rsv3"],[20,25,24,23],[20,30,24,28],[20,39,24,37],[20,41,24,39],[20,47,24,45],[20,51,24,49,"TypeError"],[20,60,24,58],[20,61,24,59],[20,99,24,97],[20,100,24,98],[21,6,26,4],[21,10,26,8],[21,14,26,12],[21,15,26,13,"_byName"],[21,22,26,20],[21,23,26,21,"hasOwnProperty"],[21,37,26,35],[21,38,26,36,"ext"],[21,41,26,39],[21,42,26,40,"name"],[21,46,26,44],[21,47,26,45],[21,49,27,6],[21,55,27,12],[21,59,27,16,"TypeError"],[21,68,27,25],[21,69,27,26],[21,95,27,52],[21,98,27,55,"ext"],[21,101,27,58],[21,102,27,59,"name"],[21,106,27,63],[21,109,27,66],[21,134,27,91],[21,135,27,92],[22,6,29,4],[22,10,29,8],[22,11,29,9,"_byName"],[22,18,29,16],[22,19,29,17,"ext"],[22,22,29,20],[22,23,29,21,"name"],[22,27,29,25],[22,28,29,26],[22,31,29,29,"ext"],[22,34,29,32],[23,6,30,4],[23,10,30,8],[23,11,30,9,"_inOrder"],[23,19,30,17],[23,20,30,18,"push"],[23,24,30,22],[23,25,30,23,"ext"],[23,28,30,26],[23,29,30,27],[24,4,31,2],[24,5,31,3],[25,4,33,2,"generateOffer"],[25,17,33,15],[25,19,33,17],[25,28,33,17,"generateOffer"],[25,29,33,17],[25,31,33,28],[26,6,34,4],[26,10,34,8,"sessions"],[26,18,34,16],[26,21,34,19],[26,23,34,21],[27,8,35,8,"offer"],[27,13,35,13],[27,16,35,19],[27,18,35,21],[28,8,36,8,"index"],[28,13,36,13],[28,16,36,19],[28,17,36,20],[28,18,36,21],[29,6,38,4],[29,10,38,8],[29,11,38,9,"_inOrder"],[29,19,38,17],[29,20,38,18,"forEach"],[29,27,38,25],[29,28,38,26],[29,38,38,35,"ext"],[29,41,38,38],[29,43,38,40],[30,8,39,6],[30,12,39,10,"session"],[30,19,39,17],[30,22,39,20,"ext"],[30,25,39,23],[30,26,39,24,"createClientSession"],[30,45,39,43],[30,46,39,44],[30,47,39,45],[31,8,40,6],[31,12,40,10],[31,13,40,11,"session"],[31,20,40,18],[31,22,40,20],[32,8,42,6],[32,12,42,10,"record"],[32,18,42,16],[32,21,42,19],[32,22,42,20,"ext"],[32,25,42,23],[32,27,42,25,"session"],[32,34,42,32],[32,35,42,33],[33,8,43,6,"sessions"],[33,16,43,14],[33,17,43,15,"push"],[33,21,43,19],[33,22,43,20,"record"],[33,28,43,26],[33,29,43,27],[34,8,44,6,"index"],[34,13,44,11],[34,14,44,12,"ext"],[34,17,44,15],[34,18,44,16,"name"],[34,22,44,20],[34,23,44,21],[34,26,44,24,"record"],[34,32,44,30],[35,8,46,6],[35,12,46,10,"offers"],[35,18,46,16],[35,21,46,19,"session"],[35,28,46,26],[35,29,46,27,"generateOffer"],[35,42,46,40],[35,43,46,41],[35,44,46,42],[36,8,47,6,"offers"],[36,14,47,12],[36,17,47,15,"offers"],[36,23,47,21],[36,26,47,24],[36,28,47,26],[36,29,47,27,"concat"],[36,35,47,33],[36,36,47,34,"offers"],[36,42,47,40],[36,43,47,41],[36,46,47,44],[36,48,47,46],[37,8,49,6,"offers"],[37,14,49,12],[37,15,49,13,"forEach"],[37,22,49,20],[37,23,49,21],[37,33,49,30,"off"],[37,36,49,33],[37,38,49,35],[38,10,50,8,"offer"],[38,15,50,13],[38,16,50,14,"push"],[38,20,50,18],[38,21,50,19,"Parser"],[38,27,50,25],[38,28,50,26,"serializeParams"],[38,43,50,41],[38,44,50,42,"ext"],[38,47,50,45],[38,48,50,46,"name"],[38,52,50,50],[38,54,50,52,"off"],[38,57,50,55],[38,58,50,56],[38,59,50,57],[39,8,51,6],[39,9,51,7],[39,11,51,9],[39,15,51,13],[39,16,51,14],[40,6,52,4],[40,7,52,5],[40,9,52,7],[40,13,52,11],[40,14,52,12],[41,6,54,4],[41,10,54,8],[41,11,54,9,"_sessions"],[41,20,54,18],[41,23,54,21,"sessions"],[41,31,54,29],[42,6,55,4],[42,10,55,8],[42,11,55,9,"_index"],[42,17,55,15],[42,20,55,21,"index"],[42,25,55,26],[43,6,57,4],[43,13,57,11,"offer"],[43,18,57,16],[43,19,57,17,"length"],[43,25,57,23],[43,28,57,26],[43,29,57,27],[43,32,57,30,"offer"],[43,37,57,35],[43,38,57,36,"join"],[43,42,57,40],[43,43,57,41],[43,47,57,45],[43,48,57,46],[43,51,57,49],[43,55,57,53],[44,4,58,2],[44,5,58,3],[45,4,60,2,"activate"],[45,12,60,10],[45,14,60,12],[45,23,60,12,"activate"],[45,24,60,21,"header"],[45,30,60,27],[45,32,60,29],[46,6,61,4],[46,10,61,8,"responses"],[46,19,61,17],[46,22,61,20,"Parser"],[46,28,61,26],[46,29,61,27,"parseHeader"],[46,40,61,38],[46,41,61,39,"header"],[46,47,61,45],[46,48,61,46],[47,8,62,8,"sessions"],[47,16,62,16],[47,19,62,20],[47,21,62,22],[48,6,64,4,"responses"],[48,15,64,13],[48,16,64,14,"eachOffer"],[48,25,64,23],[48,26,64,24],[48,36,64,33,"name"],[48,40,64,37],[48,42,64,39,"params"],[48,48,64,45],[48,50,64,47],[49,8,65,6],[49,12,65,10,"record"],[49,18,65,16],[49,21,65,19],[49,25,65,23],[49,26,65,24,"_index"],[49,32,65,30],[49,33,65,31,"name"],[49,37,65,35],[49,38,65,36],[50,8,67,6],[50,12,67,10],[50,13,67,11,"record"],[50,19,67,17],[50,21,68,8],[50,27,68,14],[50,31,68,18,"Error"],[50,36,68,23],[50,37,68,24],[50,96,68,83],[50,99,68,86,"name"],[50,103,68,90],[50,106,68,93],[50,109,68,96],[50,110,68,97],[51,8,70,6],[51,12,70,10,"ext"],[51,15,70,13],[51,18,70,21,"record"],[51,24,70,27],[51,25,70,28],[51,26,70,29],[51,27,70,30],[52,10,71,10,"session"],[52,17,71,17],[52,20,71,21,"record"],[52,26,71,27],[52,27,71,28],[52,28,71,29],[52,29,71,30],[53,10,72,10,"reserved"],[53,18,72,18],[53,21,72,21],[53,25,72,25],[53,26,72,26,"_reserved"],[53,35,72,35],[53,36,72,36,"ext"],[53,39,72,39],[53,40,72,40],[54,8,74,6],[54,12,74,10,"reserved"],[54,20,74,18],[54,22,75,8],[54,28,75,14],[54,32,75,18,"Error"],[54,37,75,23],[54,38,75,24],[54,92,75,78],[54,95,76,24,"reserved"],[54,103,76,32],[54,104,76,33],[54,105,76,34],[54,106,76,35],[54,109,76,38],[54,118,76,47],[54,121,77,24,"reserved"],[54,129,77,32],[54,130,77,33],[54,131,77,34],[54,132,77,35],[54,135,77,38],[54,144,77,47],[54,147,77,50,"ext"],[54,150,77,53],[54,151,77,54,"name"],[54,155,77,58],[54,158,77,61],[54,161,77,64],[54,162,77,65],[55,8,79,6],[55,12,79,10,"session"],[55,19,79,17],[55,20,79,18,"activate"],[55,28,79,26],[55,29,79,27,"params"],[55,35,79,33],[55,36,79,34],[55,41,79,39],[55,45,79,43],[55,47,80,8],[55,53,80,14],[55,57,80,18,"Error"],[55,62,80,23],[55,63,80,24],[55,112,80,73],[55,115,81,24,"Parser"],[55,121,81,30],[55,122,81,31,"serializeParams"],[55,137,81,46],[55,138,81,47,"name"],[55,142,81,51],[55,144,81,53,"params"],[55,150,81,59],[55,151,81,60],[55,152,81,61],[56,8,83,6],[56,12,83,10],[56,13,83,11,"_reserve"],[56,21,83,19],[56,22,83,20,"ext"],[56,25,83,23],[56,26,83,24],[57,8,84,6,"sessions"],[57,16,84,14],[57,17,84,15,"push"],[57,21,84,19],[57,22,84,20,"record"],[57,28,84,26],[57,29,84,27],[58,6,85,4],[58,7,85,5],[58,9,85,7],[58,13,85,11],[58,14,85,12],[59,6,87,4],[59,10,87,8],[59,11,87,9,"_sessions"],[59,20,87,18],[59,23,87,21,"sessions"],[59,31,87,29],[60,6,88,4],[60,10,88,8],[60,11,88,9,"_pipeline"],[60,20,88,18],[60,23,88,21],[60,27,88,25,"Pipeline"],[60,35,88,33],[60,36,88,34,"sessions"],[60,44,88,42],[60,45,88,43],[61,4,89,2],[61,5,89,3],[62,4,91,2,"generateResponse"],[62,20,91,18],[62,22,91,20],[62,31,91,20,"generateResponse"],[62,32,91,29,"header"],[62,38,91,35],[62,40,91,37],[63,6,92,4],[63,10,92,8,"sessions"],[63,18,92,16],[63,21,92,19],[63,23,92,21],[64,8,93,8,"response"],[64,16,93,16],[64,19,93,19],[64,21,93,21],[65,8,94,8,"offers"],[65,14,94,14],[65,17,94,19,"Parser"],[65,23,94,25],[65,24,94,26,"parseHeader"],[65,35,94,37],[65,36,94,38,"header"],[65,42,94,44],[65,43,94,45],[66,6,96,4],[66,10,96,8],[66,11,96,9,"_inOrder"],[66,19,96,17],[66,20,96,18,"forEach"],[66,27,96,25],[66,28,96,26],[66,38,96,35,"ext"],[66,41,96,38],[66,43,96,40],[67,8,97,6],[67,12,97,10,"offer"],[67,17,97,15],[67,20,97,18,"offers"],[67,26,97,24],[67,27,97,25,"byName"],[67,33,97,31],[67,34,97,32,"ext"],[67,37,97,35],[67,38,97,36,"name"],[67,42,97,40],[67,43,97,41],[68,8,98,6],[68,12,98,10,"offer"],[68,17,98,15],[68,18,98,16,"length"],[68,24,98,22],[68,29,98,27],[68,30,98,28],[68,34,98,32],[68,38,98,36],[68,39,98,37,"_reserved"],[68,48,98,46],[68,49,98,47,"ext"],[68,52,98,50],[68,53,98,51],[68,55,98,53],[69,8,100,6],[69,12,100,10,"session"],[69,19,100,17],[69,22,100,20,"ext"],[69,25,100,23],[69,26,100,24,"createServerSession"],[69,45,100,43],[69,46,100,44,"offer"],[69,51,100,49],[69,52,100,50],[70,8,101,6],[70,12,101,10],[70,13,101,11,"session"],[70,20,101,18],[70,22,101,20],[71,8,103,6],[71,12,103,10],[71,13,103,11,"_reserve"],[71,21,103,19],[71,22,103,20,"ext"],[71,25,103,23],[71,26,103,24],[72,8,104,6,"sessions"],[72,16,104,14],[72,17,104,15,"push"],[72,21,104,19],[72,22,104,20],[72,23,104,21,"ext"],[72,26,104,24],[72,28,104,26,"session"],[72,35,104,33],[72,36,104,34],[72,37,104,35],[73,8,105,6,"response"],[73,16,105,14],[73,17,105,15,"push"],[73,21,105,19],[73,22,105,20,"Parser"],[73,28,105,26],[73,29,105,27,"serializeParams"],[73,44,105,42],[73,45,105,43,"ext"],[73,48,105,46],[73,49,105,47,"name"],[73,53,105,51],[73,55,105,53,"session"],[73,62,105,60],[73,63,105,61,"generateResponse"],[73,79,105,77],[73,80,105,78],[73,81,105,79],[73,82,105,80],[73,83,105,81],[74,6,106,4],[74,7,106,5],[74,9,106,7],[74,13,106,11],[74,14,106,12],[75,6,108,4],[75,10,108,8],[75,11,108,9,"_sessions"],[75,20,108,18],[75,23,108,21,"sessions"],[75,31,108,29],[76,6,109,4],[76,10,109,8],[76,11,109,9,"_pipeline"],[76,20,109,18],[76,23,109,21],[76,27,109,25,"Pipeline"],[76,35,109,33],[76,36,109,34,"sessions"],[76,44,109,42],[76,45,109,43],[77,6,111,4],[77,13,111,11,"response"],[77,21,111,19],[77,22,111,20,"length"],[77,28,111,26],[77,31,111,29],[77,32,111,30],[77,35,111,33,"response"],[77,43,111,41],[77,44,111,42,"join"],[77,48,111,46],[77,49,111,47],[77,53,111,51],[77,54,111,52],[77,57,111,55],[77,61,111,59],[78,4,112,2],[78,5,112,3],[79,4,114,2,"validFrameRsv"],[79,17,114,15],[79,19,114,17],[79,28,114,17,"validFrameRsv"],[79,29,114,26,"frame"],[79,34,114,31],[79,36,114,33],[80,6,115,4],[80,10,115,8,"allowed"],[80,17,115,15],[80,20,115,18],[81,10,115,20,"rsv1"],[81,14,115,24],[81,16,115,26],[81,21,115,31],[82,10,115,33,"rsv2"],[82,14,115,37],[82,16,115,39],[82,21,115,44],[83,10,115,46,"rsv3"],[83,14,115,50],[83,16,115,52],[84,8,115,58],[84,9,115,59],[85,8,116,8,"ext"],[85,11,116,11],[86,6,118,4],[86,10,118,8,"Extensions"],[86,20,118,18],[86,21,118,19,"MESSAGE_OPCODES"],[86,36,118,34],[86,37,118,35,"indexOf"],[86,44,118,42],[86,45,118,43,"frame"],[86,50,118,48],[86,51,118,49,"opcode"],[86,57,118,55],[86,58,118,56],[86,62,118,60],[86,63,118,61],[86,65,118,63],[87,8,119,6],[87,13,119,11],[87,17,119,15,"i"],[87,18,119,16],[87,21,119,19],[87,22,119,20],[87,24,119,22,"n"],[87,25,119,23],[87,28,119,26],[87,32,119,30],[87,33,119,31,"_sessions"],[87,42,119,40],[87,43,119,41,"length"],[87,49,119,47],[87,51,119,49,"i"],[87,52,119,50],[87,55,119,53,"n"],[87,56,119,54],[87,58,119,56,"i"],[87,59,119,57],[87,61,119,59],[87,63,119,61],[88,10,120,8,"ext"],[88,13,120,11],[88,16,120,14],[88,20,120,18],[88,21,120,19,"_sessions"],[88,30,120,28],[88,31,120,29,"i"],[88,32,120,30],[88,33,120,31],[88,34,120,32],[88,35,120,33],[88,36,120,34],[89,10,121,8,"allowed"],[89,17,121,15],[89,18,121,16,"rsv1"],[89,22,121,20],[89,25,121,23,"allowed"],[89,32,121,30],[89,33,121,31,"rsv1"],[89,37,121,35],[89,41,121,39,"ext"],[89,44,121,42],[89,45,121,43,"rsv1"],[89,49,121,47],[90,10,122,8,"allowed"],[90,17,122,15],[90,18,122,16,"rsv2"],[90,22,122,20],[90,25,122,23,"allowed"],[90,32,122,30],[90,33,122,31,"rsv2"],[90,37,122,35],[90,41,122,39,"ext"],[90,44,122,42],[90,45,122,43,"rsv2"],[90,49,122,47],[91,10,123,8,"allowed"],[91,17,123,15],[91,18,123,16,"rsv3"],[91,22,123,20],[91,25,123,23,"allowed"],[91,32,123,30],[91,33,123,31,"rsv3"],[91,37,123,35],[91,41,123,39,"ext"],[91,44,123,42],[91,45,123,43,"rsv3"],[91,49,123,47],[92,8,124,6],[93,6,125,4],[94,6,127,4],[94,13,127,11],[94,14,127,12,"allowed"],[94,21,127,19],[94,22,127,20,"rsv1"],[94,26,127,24],[94,30,127,28],[94,31,127,29,"frame"],[94,36,127,34],[94,37,127,35,"rsv1"],[94,41,127,39],[94,47,128,12,"allowed"],[94,54,128,19],[94,55,128,20,"rsv2"],[94,59,128,24],[94,63,128,28],[94,64,128,29,"frame"],[94,69,128,34],[94,70,128,35,"rsv2"],[94,74,128,39],[94,75,128,40],[94,80,129,12,"allowed"],[94,87,129,19],[94,88,129,20,"rsv3"],[94,92,129,24],[94,96,129,28],[94,97,129,29,"frame"],[94,102,129,34],[94,103,129,35,"rsv3"],[94,107,129,39],[94,108,129,40],[95,4,130,2],[95,5,130,3],[96,4,132,2,"processIncomingMessage"],[96,26,132,24],[96,28,132,26],[96,37,132,26,"processIncomingMessage"],[96,38,132,35,"message"],[96,45,132,42],[96,47,132,44,"callback"],[96,55,132,52],[96,57,132,54,"context"],[96,64,132,61],[96,66,132,63],[97,6,133,4],[97,10,133,8],[97,11,133,9,"_pipeline"],[97,20,133,18],[97,21,133,19,"processIncomingMessage"],[97,43,133,41],[97,44,133,42,"message"],[97,51,133,49],[97,53,133,51,"callback"],[97,61,133,59],[97,63,133,61,"context"],[97,70,133,68],[97,71,133,69],[98,4,134,2],[98,5,134,3],[99,4,136,2,"processOutgoingMessage"],[99,26,136,24],[99,28,136,26],[99,37,136,26,"processOutgoingMessage"],[99,38,136,35,"message"],[99,45,136,42],[99,47,136,44,"callback"],[99,55,136,52],[99,57,136,54,"context"],[99,64,136,61],[99,66,136,63],[100,6,137,4],[100,10,137,8],[100,11,137,9,"_pipeline"],[100,20,137,18],[100,21,137,19,"processOutgoingMessage"],[100,43,137,41],[100,44,137,42,"message"],[100,51,137,49],[100,53,137,51,"callback"],[100,61,137,59],[100,63,137,61,"context"],[100,70,137,68],[100,71,137,69],[101,4,138,2],[101,5,138,3],[102,4,140,2,"close"],[102,9,140,7],[102,11,140,9],[102,20,140,9,"close"],[102,21,140,18,"callback"],[102,29,140,26],[102,31,140,28,"context"],[102,38,140,35],[102,40,140,37],[103,6,141,4],[103,10,141,8],[103,11,141,9],[103,15,141,13],[103,16,141,14,"_pipeline"],[103,25,141,23],[103,27,141,25],[103,34,141,32,"callback"],[103,42,141,40],[103,43,141,41,"call"],[103,47,141,45],[103,48,141,46,"context"],[103,55,141,53],[103,56,141,54],[104,6,142,4],[104,10,142,8],[104,11,142,9,"_pipeline"],[104,20,142,18],[104,21,142,19,"close"],[104,26,142,24],[104,27,142,25,"callback"],[104,35,142,33],[104,37,142,35,"context"],[104,44,142,42],[104,45,142,43],[105,4,143,2],[105,5,143,3],[106,4,145,2,"_reserve"],[106,12,145,10],[106,14,145,12],[106,23,145,12,"_reserve"],[106,24,145,21,"ext"],[106,27,145,24],[106,29,145,26],[107,6,146,4],[107,10,146,8],[107,11,146,9,"_rsv1"],[107,16,146,14],[107,19,146,17],[107,23,146,21],[107,24,146,22,"_rsv1"],[107,29,146,27],[107,33,146,32,"ext"],[107,36,146,35],[107,37,146,36,"rsv1"],[107,41,146,40],[107,45,146,44,"ext"],[107,48,146,47],[107,49,146,48,"name"],[107,53,146,53],[108,6,147,4],[108,10,147,8],[108,11,147,9,"_rsv2"],[108,16,147,14],[108,19,147,17],[108,23,147,21],[108,24,147,22,"_rsv2"],[108,29,147,27],[108,33,147,32,"ext"],[108,36,147,35],[108,37,147,36,"rsv2"],[108,41,147,40],[108,45,147,44,"ext"],[108,48,147,47],[108,49,147,48,"name"],[108,53,147,53],[109,6,148,4],[109,10,148,8],[109,11,148,9,"_rsv3"],[109,16,148,14],[109,19,148,17],[109,23,148,21],[109,24,148,22,"_rsv3"],[109,29,148,27],[109,33,148,32,"ext"],[109,36,148,35],[109,37,148,36,"rsv3"],[109,41,148,40],[109,45,148,44,"ext"],[109,48,148,47],[109,49,148,48,"name"],[109,53,148,53],[110,4,149,2],[110,5,149,3],[111,4,151,2,"_reserved"],[111,13,151,11],[111,15,151,13],[111,24,151,13,"_reserved"],[111,25,151,22,"ext"],[111,28,151,25],[111,30,151,27],[112,6,152,4],[112,10,152,8],[112,14,152,12],[112,15,152,13,"_rsv1"],[112,20,152,18],[112,24,152,22,"ext"],[112,27,152,25],[112,28,152,26,"rsv1"],[112,32,152,30],[112,34,152,32],[112,41,152,39],[112,42,152,40],[112,43,152,41],[112,45,152,43],[112,49,152,47],[112,50,152,48,"_rsv1"],[112,55,152,53],[112,56,152,54],[113,6,153,4],[113,10,153,8],[113,14,153,12],[113,15,153,13,"_rsv2"],[113,20,153,18],[113,24,153,22,"ext"],[113,27,153,25],[113,28,153,26,"rsv2"],[113,32,153,30],[113,34,153,32],[113,41,153,39],[113,42,153,40],[113,43,153,41],[113,45,153,43],[113,49,153,47],[113,50,153,48,"_rsv2"],[113,55,153,53],[113,56,153,54],[114,6,154,4],[114,10,154,8],[114,14,154,12],[114,15,154,13,"_rsv3"],[114,20,154,18],[114,24,154,22,"ext"],[114,27,154,25],[114,28,154,26,"rsv3"],[114,32,154,30],[114,34,154,32],[114,41,154,39],[114,42,154,40],[114,43,154,41],[114,45,154,43],[114,49,154,47],[114,50,154,48,"_rsv3"],[114,55,154,53],[114,56,154,54],[115,6,155,4],[115,13,155,11],[115,18,155,16],[116,4,156,2],[117,2,157,0],[117,3,157,1],[118,2,159,0],[118,7,159,5],[118,11,159,9,"key"],[118,14,159,12],[118,18,159,16,"instance"],[118,26,159,24],[118,28,160,2,"Extensions"],[118,38,160,12],[118,39,160,13,"prototype"],[118,48,160,22],[118,49,160,23,"key"],[118,52,160,26],[118,53,160,27],[118,56,160,30,"instance"],[118,64,160,38],[118,65,160,39,"key"],[118,68,160,42],[118,69,160,43],[119,2,162,0,"module"],[119,8,162,6],[119,9,162,7,"exports"],[119,16,162,14],[119,19,162,17,"Extensions"],[119,29,162,27],[120,0,162,28],[120,3]],"functionMap":{"names":["<global>","Extensions","instance.add","instance.generateOffer","_inOrder.forEach$argument_0","offers.forEach$argument_0","instance.activate","responses.eachOffer$argument_0","instance.generateResponse","instance.validFrameRsv","instance.processIncomingMessage","instance.processOutgoingMessage","instance.close","instance._reserve","instance._reserved"],"mappings":"AAA;iBCK;CDO;OEK;GFa;iBGE;0BCK;qBCW;ODE;KDC;GHM;YME;wBCI;KDqB;GNI;oBQE;0BJK;KIU;GRM;iBSE;GTgB;0BUE;GVE;0BWE;GXE;SYE;GZG;YaE;GbI;acE;GdK"}},"type":"js/module"}]}