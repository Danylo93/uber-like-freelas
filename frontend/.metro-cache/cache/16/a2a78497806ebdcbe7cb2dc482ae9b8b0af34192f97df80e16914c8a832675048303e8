{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"]}},{"name":"../api/apiService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":128},"end":{"line":3,"column":47,"index":175}}],"key":"BC4ghMtXGcAVA5yxJyFpQ63PE4c=","exportNames":["*"]}},{"name":"./AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":40,"index":216}}],"key":"YmpzODa+dVz64UAAYTI+RwJeEt0=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useChat = exports.ChatProvider = void 0;\n  var _react = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _Alert = _interopRequireDefault(require(_dependencyMap[2], \"react-native-web/dist/exports/Alert\"));\n  var _apiService = require(_dependencyMap[3], \"../api/apiService\");\n  var _AuthContext = require(_dependencyMap[4], \"./AuthContext\");\n  var _jsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/src/contexts/ChatContext.tsx\";\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  const ChatContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const ChatProvider = ({\n    children\n  }) => {\n    const {\n      user\n    } = (0, _AuthContext.useAuth)();\n    const [chats, setChats] = (0, _react.useState)([]);\n    const [messages, setMessages] = (0, _react.useState)({});\n    const [isLoading, setIsLoading] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      if (user) {\n        refreshChats();\n      }\n    }, [user]);\n    const refreshChats = async () => {\n      if (!user) return;\n      try {\n        setIsLoading(true);\n\n        // Get chats from backend\n        const response = await _apiService.apiService.get('/chats');\n        const backendChats = response.data || [];\n\n        // Transform backend data to match our interface\n        const transformedChats = backendChats.map(chat => ({\n          id: chat.id,\n          participants: chat.participants,\n          serviceRequestId: chat.service_request_id,\n          unreadCount: 0,\n          // TODO: Calculate unread count\n          participantNames: {\n            [user.id]: user.name,\n            // Get other participant name from backend data\n            ...Object.fromEntries(chat.participants.filter(id => id !== user.id).map(id => [id, chat.participant_name || 'Usuário']))\n          },\n          lastMessage: chat.last_message ? {\n            id: chat.last_message.id,\n            senderId: chat.last_message.sender_id,\n            receiverId: chat.last_message.receiver_id || '',\n            content: chat.last_message.content,\n            timestamp: new Date(chat.last_message.created_at),\n            read: !!chat.last_message.read_at,\n            type: chat.last_message.message_type,\n            serviceRequestId: chat.last_message.service_request_id\n          } : undefined\n        }));\n        setChats(transformedChats);\n      } catch (error) {\n        console.error('Error refreshing chats:', error);\n        // Fallback to empty array on error\n        setChats([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const loadMessages = async chatId => {\n      try {\n        const response = await _apiService.apiService.get(`/chats/${chatId}/messages`);\n        const backendMessages = response.data || [];\n\n        // Transform backend messages to match our interface\n        const transformedMessages = backendMessages.map(msg => ({\n          id: msg.id,\n          senderId: msg.sender_id,\n          receiverId: msg.receiver_id || '',\n          content: msg.content,\n          timestamp: new Date(msg.created_at),\n          read: !!msg.read_at,\n          type: msg.message_type,\n          serviceRequestId: msg.service_request_id\n        }));\n        setMessages(prev => ({\n          ...prev,\n          [chatId]: transformedMessages\n        }));\n      } catch (error) {\n        console.error('Error loading messages:', error);\n        // Set empty array on error\n        setMessages(prev => ({\n          ...prev,\n          [chatId]: []\n        }));\n      }\n    };\n    const sendMessage = async (chatId, content, type = 'text') => {\n      if (!user) return;\n      try {\n        setIsLoading(true);\n        const chat = chats.find(c => c.id === chatId);\n        if (!chat) return;\n        const receiverId = chat.participants.find(p => p !== user.id) || '';\n        const newMessage = {\n          id: `msg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n          senderId: user.id,\n          receiverId,\n          content,\n          timestamp: new Date(),\n          read: false,\n          type,\n          serviceRequestId: chat.serviceRequestId\n        };\n\n        // Update local messages immediately (optimistic update)\n        setMessages(prev => ({\n          ...prev,\n          [chatId]: [...(prev[chatId] || []), newMessage]\n        }));\n\n        // Update chat last message\n        setChats(prev => prev.map(c => c.id === chatId ? {\n          ...c,\n          lastMessage: newMessage\n        } : c));\n\n        // Send message to backend\n        await _apiService.apiService.post(`/chats/${chatId}/messages`, {\n          content,\n          message_type: type,\n          service_request_id: chat.serviceRequestId\n        });\n        console.log('Message sent successfully:', newMessage);\n      } catch (error) {\n        console.error('Error sending message:', error);\n        _Alert.default.alert('Erro', 'Não foi possível enviar a mensagem');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const markAsRead = async chatId => {\n      if (!user) return;\n      try {\n        // Mark all messages as read\n        setMessages(prev => ({\n          ...prev,\n          [chatId]: prev[chatId]?.map(msg => msg.receiverId === user.id ? {\n            ...msg,\n            read: true\n          } : msg) || []\n        }));\n\n        // Update unread count\n        setChats(prev => prev.map(chat => chat.id === chatId ? {\n          ...chat,\n          unreadCount: 0\n        } : chat));\n\n        // Mark messages as read in backend\n        await _apiService.apiService.put(`/chats/${chatId}/read`);\n      } catch (error) {\n        console.error('Error marking as read:', error);\n      }\n    };\n    const createChat = async (participantId, participantName, serviceRequestId) => {\n      if (!user) throw new Error('User not authenticated');\n      try {\n        setIsLoading(true);\n        const chatId = serviceRequestId ? `service_${serviceRequestId}` : `chat_${Date.now()}`;\n        const newChat = {\n          id: chatId,\n          participants: [user.id, participantId],\n          unreadCount: 0,\n          serviceRequestId,\n          participantNames: {\n            [user.id]: user.name,\n            [participantId]: participantName\n          }\n        };\n        setChats(prev => [...prev, newChat]);\n        setMessages(prev => ({\n          ...prev,\n          [chatId]: []\n        }));\n\n        // Create chat in backend\n        await _apiService.apiService.post('/chats', {\n          participant_id: participantId,\n          service_request_id: serviceRequestId\n        });\n        return chatId;\n      } catch (error) {\n        console.error('Error creating chat:', error);\n        throw error;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const value = {\n      chats,\n      messages,\n      sendMessage,\n      markAsRead,\n      createChat,\n      refreshChats,\n      loadMessages,\n      isLoading\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(ChatContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 5\n    }, this);\n  };\n  exports.ChatProvider = ChatProvider;\n  const useChat = () => {\n    const context = (0, _react.useContext)(ChatContext);\n    if (!context) {\n      throw new Error('useChat must be used within a ChatProvider');\n    }\n    return context;\n  };\n  exports.useChat = useChat;\n});","lineCount":229,"map":[[7,2,1,0],[7,6,1,0,"_react"],[7,12,1,0],[7,15,1,0,"_interopRequireWildcard"],[7,38,1,0],[7,39,1,0,"require"],[7,46,1,0],[7,47,1,0,"_dependencyMap"],[7,61,1,0],[8,2,1,89],[8,6,1,89,"_Alert"],[8,12,1,89],[8,15,1,89,"_interopRequireDefault"],[8,37,1,89],[8,38,1,89,"require"],[8,45,1,89],[8,46,1,89,"_dependencyMap"],[8,60,1,89],[9,2,3,0],[9,6,3,0,"_apiService"],[9,17,3,0],[9,20,3,0,"require"],[9,27,3,0],[9,28,3,0,"_dependencyMap"],[9,42,3,0],[10,2,4,0],[10,6,4,0,"_AuthContext"],[10,18,4,0],[10,21,4,0,"require"],[10,28,4,0],[10,29,4,0,"_dependencyMap"],[10,43,4,0],[11,2,4,40],[11,6,4,40,"_jsxDevRuntime"],[11,20,4,40],[11,23,4,40,"require"],[11,30,4,40],[11,31,4,40,"_dependencyMap"],[11,45,4,40],[12,2,4,40],[12,6,4,40,"_jsxFileName"],[12,18,4,40],[13,2,4,40],[13,11,4,40,"_interopRequireWildcard"],[13,35,4,40,"e"],[13,36,4,40],[13,38,4,40,"t"],[13,39,4,40],[13,68,4,40,"WeakMap"],[13,75,4,40],[13,81,4,40,"r"],[13,82,4,40],[13,89,4,40,"WeakMap"],[13,96,4,40],[13,100,4,40,"n"],[13,101,4,40],[13,108,4,40,"WeakMap"],[13,115,4,40],[13,127,4,40,"_interopRequireWildcard"],[13,150,4,40],[13,162,4,40,"_interopRequireWildcard"],[13,163,4,40,"e"],[13,164,4,40],[13,166,4,40,"t"],[13,167,4,40],[13,176,4,40,"t"],[13,177,4,40],[13,181,4,40,"e"],[13,182,4,40],[13,186,4,40,"e"],[13,187,4,40],[13,188,4,40,"__esModule"],[13,198,4,40],[13,207,4,40,"e"],[13,208,4,40],[13,214,4,40,"o"],[13,215,4,40],[13,217,4,40,"i"],[13,218,4,40],[13,220,4,40,"f"],[13,221,4,40],[13,226,4,40,"__proto__"],[13,235,4,40],[13,243,4,40,"default"],[13,250,4,40],[13,252,4,40,"e"],[13,253,4,40],[13,270,4,40,"e"],[13,271,4,40],[13,294,4,40,"e"],[13,295,4,40],[13,320,4,40,"e"],[13,321,4,40],[13,330,4,40,"f"],[13,331,4,40],[13,337,4,40,"o"],[13,338,4,40],[13,341,4,40,"t"],[13,342,4,40],[13,345,4,40,"n"],[13,346,4,40],[13,349,4,40,"r"],[13,350,4,40],[13,358,4,40,"o"],[13,359,4,40],[13,360,4,40,"has"],[13,363,4,40],[13,364,4,40,"e"],[13,365,4,40],[13,375,4,40,"o"],[13,376,4,40],[13,377,4,40,"get"],[13,380,4,40],[13,381,4,40,"e"],[13,382,4,40],[13,385,4,40,"o"],[13,386,4,40],[13,387,4,40,"set"],[13,390,4,40],[13,391,4,40,"e"],[13,392,4,40],[13,394,4,40,"f"],[13,395,4,40],[13,411,4,40,"t"],[13,412,4,40],[13,416,4,40,"e"],[13,417,4,40],[13,433,4,40,"t"],[13,434,4,40],[13,441,4,40,"hasOwnProperty"],[13,455,4,40],[13,456,4,40,"call"],[13,460,4,40],[13,461,4,40,"e"],[13,462,4,40],[13,464,4,40,"t"],[13,465,4,40],[13,472,4,40,"i"],[13,473,4,40],[13,477,4,40,"o"],[13,478,4,40],[13,481,4,40,"Object"],[13,487,4,40],[13,488,4,40,"defineProperty"],[13,502,4,40],[13,507,4,40,"Object"],[13,513,4,40],[13,514,4,40,"getOwnPropertyDescriptor"],[13,538,4,40],[13,539,4,40,"e"],[13,540,4,40],[13,542,4,40,"t"],[13,543,4,40],[13,550,4,40,"i"],[13,551,4,40],[13,552,4,40,"get"],[13,555,4,40],[13,559,4,40,"i"],[13,560,4,40],[13,561,4,40,"set"],[13,564,4,40],[13,568,4,40,"o"],[13,569,4,40],[13,570,4,40,"f"],[13,571,4,40],[13,573,4,40,"t"],[13,574,4,40],[13,576,4,40,"i"],[13,577,4,40],[13,581,4,40,"f"],[13,582,4,40],[13,583,4,40,"t"],[13,584,4,40],[13,588,4,40,"e"],[13,589,4,40],[13,590,4,40,"t"],[13,591,4,40],[13,602,4,40,"f"],[13,603,4,40],[13,608,4,40,"e"],[13,609,4,40],[13,611,4,40,"t"],[13,612,4,40],[14,2,37,0],[14,8,37,6,"ChatContext"],[14,19,37,17],[14,35,37,20],[14,39,37,20,"createContext"],[14,59,37,33],[14,61,37,63,"undefined"],[14,70,37,72],[14,71,37,73],[15,2,43,7],[15,8,43,13,"ChatProvider"],[15,20,43,54],[15,23,43,57,"ChatProvider"],[15,24,43,58],[16,4,43,60,"children"],[17,2,43,69],[17,3,43,70],[17,8,43,75],[18,4,44,2],[18,10,44,8],[19,6,44,10,"user"],[20,4,44,15],[20,5,44,16],[20,8,44,19],[20,12,44,19,"useAuth"],[20,32,44,26],[20,34,44,27],[20,35,44,28],[21,4,45,2],[21,10,45,8],[21,11,45,9,"chats"],[21,16,45,14],[21,18,45,16,"setChats"],[21,26,45,24],[21,27,45,25],[21,30,45,28],[21,34,45,28,"useState"],[21,49,45,36],[21,51,45,45],[21,53,45,47],[21,54,45,48],[22,4,46,2],[22,10,46,8],[22,11,46,9,"messages"],[22,19,46,17],[22,21,46,19,"setMessages"],[22,32,46,30],[22,33,46,31],[22,36,46,34],[22,40,46,34,"useState"],[22,55,46,42],[22,57,46,70],[22,58,46,71],[22,59,46,72],[22,60,46,73],[23,4,47,2],[23,10,47,8],[23,11,47,9,"isLoading"],[23,20,47,18],[23,22,47,20,"setIsLoading"],[23,34,47,32],[23,35,47,33],[23,38,47,36],[23,42,47,36,"useState"],[23,57,47,44],[23,59,47,45],[23,64,47,50],[23,65,47,51],[24,4,49,2],[24,8,49,2,"useEffect"],[24,24,49,11],[24,26,49,12],[24,32,49,18],[25,6,50,4],[25,10,50,8,"user"],[25,14,50,12],[25,16,50,14],[26,8,51,6,"refreshChats"],[26,20,51,18],[26,21,51,19],[26,22,51,20],[27,6,52,4],[28,4,53,2],[28,5,53,3],[28,7,53,5],[28,8,53,6,"user"],[28,12,53,10],[28,13,53,11],[28,14,53,12],[29,4,55,2],[29,10,55,8,"refreshChats"],[29,22,55,20],[29,25,55,23],[29,31,55,23,"refreshChats"],[29,32,55,23],[29,37,55,35],[30,6,56,4],[30,10,56,8],[30,11,56,9,"user"],[30,15,56,13],[30,17,56,15],[31,6,58,4],[31,10,58,8],[32,8,59,6,"setIsLoading"],[32,20,59,18],[32,21,59,19],[32,25,59,23],[32,26,59,24],[34,8,61,6],[35,8,62,6],[35,14,62,12,"response"],[35,22,62,20],[35,25,62,23],[35,31,62,29,"apiService"],[35,53,62,39],[35,54,62,40,"get"],[35,57,62,43],[35,58,62,44],[35,66,62,52],[35,67,62,53],[36,8,63,6],[36,14,63,12,"backendChats"],[36,26,63,24],[36,29,63,27,"response"],[36,37,63,35],[36,38,63,36,"data"],[36,42,63,40],[36,46,63,44],[36,48,63,46],[38,8,65,6],[39,8,66,6],[39,14,66,12,"transformedChats"],[39,30,66,36],[39,33,66,39,"backendChats"],[39,45,66,51],[39,46,66,52,"map"],[39,49,66,55],[39,50,66,57,"chat"],[39,54,66,66],[39,59,66,72],[40,10,67,8,"id"],[40,12,67,10],[40,14,67,12,"chat"],[40,18,67,16],[40,19,67,17,"id"],[40,21,67,19],[41,10,68,8,"participants"],[41,22,68,20],[41,24,68,22,"chat"],[41,28,68,26],[41,29,68,27,"participants"],[41,41,68,39],[42,10,69,8,"serviceRequestId"],[42,26,69,24],[42,28,69,26,"chat"],[42,32,69,30],[42,33,69,31,"service_request_id"],[42,51,69,49],[43,10,70,8,"unreadCount"],[43,21,70,19],[43,23,70,21],[43,24,70,22],[44,10,70,24],[45,10,71,8,"participantNames"],[45,26,71,24],[45,28,71,26],[46,12,72,10],[46,13,72,11,"user"],[46,17,72,15],[46,18,72,16,"id"],[46,20,72,18],[46,23,72,21,"user"],[46,27,72,25],[46,28,72,26,"name"],[46,32,72,30],[47,12,73,10],[48,12,74,10],[48,15,74,13,"Object"],[48,21,74,19],[48,22,74,20,"fromEntries"],[48,33,74,31],[48,34,75,12,"chat"],[48,38,75,16],[48,39,75,17,"participants"],[48,51,75,29],[48,52,76,15,"filter"],[48,58,76,21],[48,59,76,23,"id"],[48,61,76,33],[48,65,76,38,"id"],[48,67,76,40],[48,72,76,45,"user"],[48,76,76,49],[48,77,76,50,"id"],[48,79,76,52],[48,80,76,53],[48,81,77,15,"map"],[48,84,77,18],[48,85,77,20,"id"],[48,87,77,30],[48,91,77,35],[48,92,77,36,"id"],[48,94,77,38],[48,96,77,40,"chat"],[48,100,77,44],[48,101,77,45,"participant_name"],[48,117,77,61],[48,121,77,65],[48,130,77,74],[48,131,77,75],[48,132,78,10],[49,10,79,8],[49,11,79,9],[50,10,80,8,"lastMessage"],[50,21,80,19],[50,23,80,21,"chat"],[50,27,80,25],[50,28,80,26,"last_message"],[50,40,80,38],[50,43,80,41],[51,12,81,10,"id"],[51,14,81,12],[51,16,81,14,"chat"],[51,20,81,18],[51,21,81,19,"last_message"],[51,33,81,31],[51,34,81,32,"id"],[51,36,81,34],[52,12,82,10,"senderId"],[52,20,82,18],[52,22,82,20,"chat"],[52,26,82,24],[52,27,82,25,"last_message"],[52,39,82,37],[52,40,82,38,"sender_id"],[52,49,82,47],[53,12,83,10,"receiverId"],[53,22,83,20],[53,24,83,22,"chat"],[53,28,83,26],[53,29,83,27,"last_message"],[53,41,83,39],[53,42,83,40,"receiver_id"],[53,53,83,51],[53,57,83,55],[53,59,83,57],[54,12,84,10,"content"],[54,19,84,17],[54,21,84,19,"chat"],[54,25,84,23],[54,26,84,24,"last_message"],[54,38,84,36],[54,39,84,37,"content"],[54,46,84,44],[55,12,85,10,"timestamp"],[55,21,85,19],[55,23,85,21],[55,27,85,25,"Date"],[55,31,85,29],[55,32,85,30,"chat"],[55,36,85,34],[55,37,85,35,"last_message"],[55,49,85,47],[55,50,85,48,"created_at"],[55,60,85,58],[55,61,85,59],[56,12,86,10,"read"],[56,16,86,14],[56,18,86,16],[56,19,86,17],[56,20,86,18,"chat"],[56,24,86,22],[56,25,86,23,"last_message"],[56,37,86,35],[56,38,86,36,"read_at"],[56,45,86,43],[57,12,87,10,"type"],[57,16,87,14],[57,18,87,16,"chat"],[57,22,87,20],[57,23,87,21,"last_message"],[57,35,87,33],[57,36,87,34,"message_type"],[57,48,87,79],[58,12,88,10,"serviceRequestId"],[58,28,88,26],[58,30,88,28,"chat"],[58,34,88,32],[58,35,88,33,"last_message"],[58,47,88,45],[58,48,88,46,"service_request_id"],[59,10,89,8],[59,11,89,9],[59,14,89,12,"undefined"],[60,8,90,6],[60,9,90,7],[60,10,90,8],[60,11,90,9],[61,8,92,6,"setChats"],[61,16,92,14],[61,17,92,15,"transformedChats"],[61,33,92,31],[61,34,92,32],[62,6,94,4],[62,7,94,5],[62,8,94,6],[62,15,94,13,"error"],[62,20,94,18],[62,22,94,20],[63,8,95,6,"console"],[63,15,95,13],[63,16,95,14,"error"],[63,21,95,19],[63,22,95,20],[63,47,95,45],[63,49,95,47,"error"],[63,54,95,52],[63,55,95,53],[64,8,96,6],[65,8,97,6,"setChats"],[65,16,97,14],[65,17,97,15],[65,19,97,17],[65,20,97,18],[66,6,98,4],[66,7,98,5],[66,16,98,14],[67,8,99,6,"setIsLoading"],[67,20,99,18],[67,21,99,19],[67,26,99,24],[67,27,99,25],[68,6,100,4],[69,4,101,2],[69,5,101,3],[70,4,103,2],[70,10,103,8,"loadMessages"],[70,22,103,20],[70,25,103,23],[70,31,103,30,"chatId"],[70,37,103,44],[70,41,103,49],[71,6,104,4],[71,10,104,8],[72,8,105,6],[72,14,105,12,"response"],[72,22,105,20],[72,25,105,23],[72,31,105,29,"apiService"],[72,53,105,39],[72,54,105,40,"get"],[72,57,105,43],[72,58,105,44],[72,68,105,54,"chatId"],[72,74,105,60],[72,85,105,71],[72,86,105,72],[73,8,106,6],[73,14,106,12,"backendMessages"],[73,29,106,27],[73,32,106,30,"response"],[73,40,106,38],[73,41,106,39,"data"],[73,45,106,43],[73,49,106,47],[73,51,106,49],[75,8,108,6],[76,8,109,6],[76,14,109,12,"transformedMessages"],[76,33,109,42],[76,36,109,45,"backendMessages"],[76,51,109,60],[76,52,109,61,"map"],[76,55,109,64],[76,56,109,66,"msg"],[76,59,109,74],[76,64,109,80],[77,10,110,8,"id"],[77,12,110,10],[77,14,110,12,"msg"],[77,17,110,15],[77,18,110,16,"id"],[77,20,110,18],[78,10,111,8,"senderId"],[78,18,111,16],[78,20,111,18,"msg"],[78,23,111,21],[78,24,111,22,"sender_id"],[78,33,111,31],[79,10,112,8,"receiverId"],[79,20,112,18],[79,22,112,20,"msg"],[79,25,112,23],[79,26,112,24,"receiver_id"],[79,37,112,35],[79,41,112,39],[79,43,112,41],[80,10,113,8,"content"],[80,17,113,15],[80,19,113,17,"msg"],[80,22,113,20],[80,23,113,21,"content"],[80,30,113,28],[81,10,114,8,"timestamp"],[81,19,114,17],[81,21,114,19],[81,25,114,23,"Date"],[81,29,114,27],[81,30,114,28,"msg"],[81,33,114,31],[81,34,114,32,"created_at"],[81,44,114,42],[81,45,114,43],[82,10,115,8,"read"],[82,14,115,12],[82,16,115,14],[82,17,115,15],[82,18,115,16,"msg"],[82,21,115,19],[82,22,115,20,"read_at"],[82,29,115,27],[83,10,116,8,"type"],[83,14,116,12],[83,16,116,14,"msg"],[83,19,116,17],[83,20,116,18,"message_type"],[83,32,116,63],[84,10,117,8,"serviceRequestId"],[84,26,117,24],[84,28,117,26,"msg"],[84,31,117,29],[84,32,117,30,"service_request_id"],[85,8,118,6],[85,9,118,7],[85,10,118,8],[85,11,118,9],[86,8,120,6,"setMessages"],[86,19,120,17],[86,20,120,18,"prev"],[86,24,120,22],[86,29,120,27],[87,10,121,8],[87,13,121,11,"prev"],[87,17,121,15],[88,10,122,8],[88,11,122,9,"chatId"],[88,17,122,15],[88,20,122,18,"transformedMessages"],[89,8,123,6],[89,9,123,7],[89,10,123,8],[89,11,123,9],[90,6,124,4],[90,7,124,5],[90,8,124,6],[90,15,124,13,"error"],[90,20,124,18],[90,22,124,20],[91,8,125,6,"console"],[91,15,125,13],[91,16,125,14,"error"],[91,21,125,19],[91,22,125,20],[91,47,125,45],[91,49,125,47,"error"],[91,54,125,52],[91,55,125,53],[92,8,126,6],[93,8,127,6,"setMessages"],[93,19,127,17],[93,20,127,18,"prev"],[93,24,127,22],[93,29,127,27],[94,10,128,8],[94,13,128,11,"prev"],[94,17,128,15],[95,10,129,8],[95,11,129,9,"chatId"],[95,17,129,15],[95,20,129,18],[96,8,130,6],[96,9,130,7],[96,10,130,8],[96,11,130,9],[97,6,131,4],[98,4,132,2],[98,5,132,3],[99,4,134,2],[99,10,134,8,"sendMessage"],[99,21,134,19],[99,24,134,22],[99,30,134,22,"sendMessage"],[99,31,134,29,"chatId"],[99,37,134,43],[99,39,134,45,"content"],[99,46,134,60],[99,48,134,62,"type"],[99,52,134,97],[99,55,134,100],[99,61,134,106],[99,66,134,111],[100,6,135,4],[100,10,135,8],[100,11,135,9,"user"],[100,15,135,13],[100,17,135,15],[101,6,137,4],[101,10,137,8],[102,8,138,6,"setIsLoading"],[102,20,138,18],[102,21,138,19],[102,25,138,23],[102,26,138,24],[103,8,140,6],[103,14,140,12,"chat"],[103,18,140,16],[103,21,140,19,"chats"],[103,26,140,24],[103,27,140,25,"find"],[103,31,140,29],[103,32,140,30,"c"],[103,33,140,31],[103,37,140,35,"c"],[103,38,140,36],[103,39,140,37,"id"],[103,41,140,39],[103,46,140,44,"chatId"],[103,52,140,50],[103,53,140,51],[104,8,141,6],[104,12,141,10],[104,13,141,11,"chat"],[104,17,141,15],[104,19,141,17],[105,8,143,6],[105,14,143,12,"receiverId"],[105,24,143,22],[105,27,143,25,"chat"],[105,31,143,29],[105,32,143,30,"participants"],[105,44,143,42],[105,45,143,43,"find"],[105,49,143,47],[105,50,143,48,"p"],[105,51,143,49],[105,55,143,53,"p"],[105,56,143,54],[105,61,143,59,"user"],[105,65,143,63],[105,66,143,64,"id"],[105,68,143,66],[105,69,143,67],[105,73,143,71],[105,75,143,73],[106,8,145,6],[106,14,145,12,"newMessage"],[106,24,145,31],[106,27,145,34],[107,10,146,8,"id"],[107,12,146,10],[107,14,146,12],[107,21,146,19,"Date"],[107,25,146,23],[107,26,146,24,"now"],[107,29,146,27],[107,30,146,28],[107,31,146,29],[107,35,146,33,"Math"],[107,39,146,37],[107,40,146,38,"random"],[107,46,146,44],[107,47,146,45],[107,48,146,46],[107,49,146,47,"toString"],[107,57,146,55],[107,58,146,56],[107,60,146,58],[107,61,146,59],[107,62,146,60,"substr"],[107,68,146,66],[107,69,146,67],[107,70,146,68],[107,72,146,70],[107,73,146,71],[107,74,146,72],[107,76,146,74],[108,10,147,8,"senderId"],[108,18,147,16],[108,20,147,18,"user"],[108,24,147,22],[108,25,147,23,"id"],[108,27,147,25],[109,10,148,8,"receiverId"],[109,20,148,18],[110,10,149,8,"content"],[110,17,149,15],[111,10,150,8,"timestamp"],[111,19,150,17],[111,21,150,19],[111,25,150,23,"Date"],[111,29,150,27],[111,30,150,28],[111,31,150,29],[112,10,151,8,"read"],[112,14,151,12],[112,16,151,14],[112,21,151,19],[113,10,152,8,"type"],[113,14,152,12],[114,10,153,8,"serviceRequestId"],[114,26,153,24],[114,28,153,26,"chat"],[114,32,153,30],[114,33,153,31,"serviceRequestId"],[115,8,154,6],[115,9,154,7],[117,8,156,6],[118,8,157,6,"setMessages"],[118,19,157,17],[118,20,157,18,"prev"],[118,24,157,22],[118,29,157,27],[119,10,158,8],[119,13,158,11,"prev"],[119,17,158,15],[120,10,159,8],[120,11,159,9,"chatId"],[120,17,159,15],[120,20,159,18],[120,21,159,19],[120,25,159,23,"prev"],[120,29,159,27],[120,30,159,28,"chatId"],[120,36,159,34],[120,37,159,35],[120,41,159,39],[120,43,159,41],[120,44,159,42],[120,46,159,44,"newMessage"],[120,56,159,54],[121,8,160,6],[121,9,160,7],[121,10,160,8],[121,11,160,9],[123,8,162,6],[124,8,163,6,"setChats"],[124,16,163,14],[124,17,163,15,"prev"],[124,21,163,19],[124,25,164,8,"prev"],[124,29,164,12],[124,30,164,13,"map"],[124,33,164,16],[124,34,164,17,"c"],[124,35,164,18],[124,39,165,10,"c"],[124,40,165,11],[124,41,165,12,"id"],[124,43,165,14],[124,48,165,19,"chatId"],[124,54,165,25],[124,57,166,14],[125,10,166,16],[125,13,166,19,"c"],[125,14,166,20],[126,10,166,22,"lastMessage"],[126,21,166,33],[126,23,166,35,"newMessage"],[127,8,166,46],[127,9,166,47],[127,12,167,14,"c"],[127,13,168,8],[127,14,169,6],[127,15,169,7],[129,8,171,6],[130,8,172,6],[130,14,172,12,"apiService"],[130,36,172,22],[130,37,172,23,"post"],[130,41,172,27],[130,42,172,28],[130,52,172,38,"chatId"],[130,58,172,44],[130,69,172,55],[130,71,172,57],[131,10,173,8,"content"],[131,17,173,15],[132,10,174,8,"message_type"],[132,22,174,20],[132,24,174,22,"type"],[132,28,174,26],[133,10,175,8,"service_request_id"],[133,28,175,26],[133,30,175,28,"chat"],[133,34,175,32],[133,35,175,33,"serviceRequestId"],[134,8,176,6],[134,9,176,7],[134,10,176,8],[135,8,178,6,"console"],[135,15,178,13],[135,16,178,14,"log"],[135,19,178,17],[135,20,178,18],[135,48,178,46],[135,50,178,48,"newMessage"],[135,60,178,58],[135,61,178,59],[136,6,180,4],[136,7,180,5],[136,8,180,6],[136,15,180,13,"error"],[136,20,180,18],[136,22,180,20],[137,8,181,6,"console"],[137,15,181,13],[137,16,181,14,"error"],[137,21,181,19],[137,22,181,20],[137,46,181,44],[137,48,181,46,"error"],[137,53,181,51],[137,54,181,52],[138,8,182,6,"Alert"],[138,22,182,11],[138,23,182,12,"alert"],[138,28,182,17],[138,29,182,18],[138,35,182,24],[138,37,182,26],[138,73,182,62],[138,74,182,63],[139,6,183,4],[139,7,183,5],[139,16,183,14],[140,8,184,6,"setIsLoading"],[140,20,184,18],[140,21,184,19],[140,26,184,24],[140,27,184,25],[141,6,185,4],[142,4,186,2],[142,5,186,3],[143,4,188,2],[143,10,188,8,"markAsRead"],[143,20,188,18],[143,23,188,21],[143,29,188,28,"chatId"],[143,35,188,42],[143,39,188,47],[144,6,189,4],[144,10,189,8],[144,11,189,9,"user"],[144,15,189,13],[144,17,189,15],[145,6,191,4],[145,10,191,8],[146,8,192,6],[147,8,193,6,"setMessages"],[147,19,193,17],[147,20,193,18,"prev"],[147,24,193,22],[147,29,193,27],[148,10,194,8],[148,13,194,11,"prev"],[148,17,194,15],[149,10,195,8],[149,11,195,9,"chatId"],[149,17,195,15],[149,20,195,18,"prev"],[149,24,195,22],[149,25,195,23,"chatId"],[149,31,195,29],[149,32,195,30],[149,34,195,32,"map"],[149,37,195,35],[149,38,195,36,"msg"],[149,41,195,39],[149,45,196,10,"msg"],[149,48,196,13],[149,49,196,14,"receiverId"],[149,59,196,24],[149,64,196,29,"user"],[149,68,196,33],[149,69,196,34,"id"],[149,71,196,36],[149,74,196,39],[150,12,196,41],[150,15,196,44,"msg"],[150,18,196,47],[151,12,196,49,"read"],[151,16,196,53],[151,18,196,55],[152,10,196,60],[152,11,196,61],[152,14,196,64,"msg"],[152,17,197,8],[152,18,197,9],[152,22,197,13],[153,8,198,6],[153,9,198,7],[153,10,198,8],[153,11,198,9],[155,8,200,6],[156,8,201,6,"setChats"],[156,16,201,14],[156,17,201,15,"prev"],[156,21,201,19],[156,25,202,8,"prev"],[156,29,202,12],[156,30,202,13,"map"],[156,33,202,16],[156,34,202,17,"chat"],[156,38,202,21],[156,42,203,10,"chat"],[156,46,203,14],[156,47,203,15,"id"],[156,49,203,17],[156,54,203,22,"chatId"],[156,60,203,28],[156,63,204,14],[157,10,204,16],[157,13,204,19,"chat"],[157,17,204,23],[158,10,204,25,"unreadCount"],[158,21,204,36],[158,23,204,38],[159,8,204,40],[159,9,204,41],[159,12,205,14,"chat"],[159,16,206,8],[159,17,207,6],[159,18,207,7],[161,8,209,6],[162,8,210,6],[162,14,210,12,"apiService"],[162,36,210,22],[162,37,210,23,"put"],[162,40,210,26],[162,41,210,27],[162,51,210,37,"chatId"],[162,57,210,43],[162,64,210,50],[162,65,210,51],[163,6,212,4],[163,7,212,5],[163,8,212,6],[163,15,212,13,"error"],[163,20,212,18],[163,22,212,20],[164,8,213,6,"console"],[164,15,213,13],[164,16,213,14,"error"],[164,21,213,19],[164,22,213,20],[164,46,213,44],[164,48,213,46,"error"],[164,53,213,51],[164,54,213,52],[165,6,214,4],[166,4,215,2],[166,5,215,3],[167,4,217,2],[167,10,217,8,"createChat"],[167,20,217,18],[167,23,217,21],[167,29,217,21,"createChat"],[167,30,217,28,"participantId"],[167,43,217,49],[167,45,217,51,"participantName"],[167,60,217,74],[167,62,217,76,"serviceRequestId"],[167,78,217,101],[167,83,217,123],[168,6,218,4],[168,10,218,8],[168,11,218,9,"user"],[168,15,218,13],[168,17,218,15],[168,23,218,21],[168,27,218,25,"Error"],[168,32,218,30],[168,33,218,31],[168,57,218,55],[168,58,218,56],[169,6,220,4],[169,10,220,8],[170,8,221,6,"setIsLoading"],[170,20,221,18],[170,21,221,19],[170,25,221,23],[170,26,221,24],[171,8,223,6],[171,14,223,12,"chatId"],[171,20,223,18],[171,23,223,21,"serviceRequestId"],[171,39,223,37],[171,42,223,40],[171,53,223,51,"serviceRequestId"],[171,69,223,67],[171,71,223,69],[171,74,223,72],[171,82,223,80,"Date"],[171,86,223,84],[171,87,223,85,"now"],[171,90,223,88],[171,91,223,89],[171,92,223,90],[171,94,223,92],[172,8,225,6],[172,14,225,12,"newChat"],[172,21,225,25],[172,24,225,28],[173,10,226,8,"id"],[173,12,226,10],[173,14,226,12,"chatId"],[173,20,226,18],[174,10,227,8,"participants"],[174,22,227,20],[174,24,227,22],[174,25,227,23,"user"],[174,29,227,27],[174,30,227,28,"id"],[174,32,227,30],[174,34,227,32,"participantId"],[174,47,227,45],[174,48,227,46],[175,10,228,8,"unreadCount"],[175,21,228,19],[175,23,228,21],[175,24,228,22],[176,10,229,8,"serviceRequestId"],[176,26,229,24],[177,10,230,8,"participantNames"],[177,26,230,24],[177,28,230,26],[178,12,231,10],[178,13,231,11,"user"],[178,17,231,15],[178,18,231,16,"id"],[178,20,231,18],[178,23,231,21,"user"],[178,27,231,25],[178,28,231,26,"name"],[178,32,231,30],[179,12,232,10],[179,13,232,11,"participantId"],[179,26,232,24],[179,29,232,27,"participantName"],[180,10,233,8],[181,8,234,6],[181,9,234,7],[182,8,236,6,"setChats"],[182,16,236,14],[182,17,236,15,"prev"],[182,21,236,19],[182,25,236,23],[182,26,236,24],[182,29,236,27,"prev"],[182,33,236,31],[182,35,236,33,"newChat"],[182,42,236,40],[182,43,236,41],[182,44,236,42],[183,8,237,6,"setMessages"],[183,19,237,17],[183,20,237,18,"prev"],[183,24,237,22],[183,29,237,27],[184,10,237,29],[184,13,237,32,"prev"],[184,17,237,36],[185,10,237,38],[185,11,237,39,"chatId"],[185,17,237,45],[185,20,237,48],[186,8,237,51],[186,9,237,52],[186,10,237,53],[186,11,237,54],[188,8,239,6],[189,8,240,6],[189,14,240,12,"apiService"],[189,36,240,22],[189,37,240,23,"post"],[189,41,240,27],[189,42,240,28],[189,50,240,36],[189,52,240,38],[190,10,241,8,"participant_id"],[190,24,241,22],[190,26,241,24,"participantId"],[190,39,241,37],[191,10,242,8,"service_request_id"],[191,28,242,26],[191,30,242,28,"serviceRequestId"],[192,8,243,6],[192,9,243,7],[192,10,243,8],[193,8,245,6],[193,15,245,13,"chatId"],[193,21,245,19],[194,6,247,4],[194,7,247,5],[194,8,247,6],[194,15,247,13,"error"],[194,20,247,18],[194,22,247,20],[195,8,248,6,"console"],[195,15,248,13],[195,16,248,14,"error"],[195,21,248,19],[195,22,248,20],[195,44,248,42],[195,46,248,44,"error"],[195,51,248,49],[195,52,248,50],[196,8,249,6],[196,14,249,12,"error"],[196,19,249,17],[197,6,250,4],[197,7,250,5],[197,16,250,14],[198,8,251,6,"setIsLoading"],[198,20,251,18],[198,21,251,19],[198,26,251,24],[198,27,251,25],[199,6,252,4],[200,4,253,2],[200,5,253,3],[201,4,255,2],[201,10,255,8,"value"],[201,15,255,30],[201,18,255,33],[202,6,256,4,"chats"],[202,11,256,9],[203,6,257,4,"messages"],[203,14,257,12],[204,6,258,4,"sendMessage"],[204,17,258,15],[205,6,259,4,"markAsRead"],[205,16,259,14],[206,6,260,4,"createChat"],[206,16,260,14],[207,6,261,4,"refreshChats"],[207,18,261,16],[208,6,262,4,"loadMessages"],[208,18,262,16],[209,6,263,4,"isLoading"],[210,4,264,2],[210,5,264,3],[211,4,266,2],[211,24,267,4],[211,28,267,4,"_jsxDevRuntime"],[211,42,267,4],[211,43,267,4,"jsxDEV"],[211,49,267,4],[211,51,267,5,"ChatContext"],[211,62,267,16],[211,63,267,17,"Provider"],[211,71,267,25],[212,6,267,26,"value"],[212,11,267,31],[212,13,267,33,"value"],[212,18,267,39],[213,6,267,39,"children"],[213,14,267,39],[213,16,268,7,"children"],[214,4,268,15],[215,6,268,15,"fileName"],[215,14,268,15],[215,16,268,15,"_jsxFileName"],[215,28,268,15],[216,6,268,15,"lineNumber"],[216,16,268,15],[217,6,268,15,"columnNumber"],[217,18,268,15],[218,4,268,15],[218,11,269,26],[218,12,269,27],[219,2,271,0],[219,3,271,1],[220,2,271,2,"exports"],[220,9,271,2],[220,10,271,2,"ChatProvider"],[220,22,271,2],[220,25,271,2,"ChatProvider"],[220,37,271,2],[221,2,273,7],[221,8,273,13,"useChat"],[221,15,273,20],[221,18,273,23,"useChat"],[221,19,273,23],[221,24,273,46],[222,4,274,2],[222,10,274,8,"context"],[222,17,274,15],[222,20,274,18],[222,24,274,18,"useContext"],[222,41,274,28],[222,43,274,29,"ChatContext"],[222,54,274,40],[222,55,274,41],[223,4,275,2],[223,8,275,6],[223,9,275,7,"context"],[223,16,275,14],[223,18,275,16],[224,6,276,4],[224,12,276,10],[224,16,276,14,"Error"],[224,21,276,19],[224,22,276,20],[224,66,276,64],[224,67,276,65],[225,4,277,2],[226,4,278,2],[226,11,278,9,"context"],[226,18,278,16],[227,2,279,0],[227,3,279,1],[228,2,279,2,"exports"],[228,9,279,2],[228,10,279,2,"useChat"],[228,17,279,2],[228,20,279,2,"useChat"],[228,27,279,2],[229,0,279,2],[229,3]],"functionMap":{"names":["<global>","ChatProvider","useEffect$argument_0","refreshChats","backendChats.map$argument_0","chat.participants.filter$argument_0","chat.participants.filter.map$argument_0","loadMessages","backendMessages.map$argument_0","setMessages$argument_0","sendMessage","chats.find$argument_0","chat.participants.find$argument_0","setChats$argument_0","prev.map$argument_0","markAsRead","prev.chatId.map$argument_0","createChat","useChat"],"mappings":"AAA;yDC0C;YCM;GDI;uBEE;wDCW;sBCU,8BD;mBEC,wDF;QDa;GFW;uBME;iECM;QDS;kBEE;QFG;kBEI;QFG;GNE;sBSE;8BCM,oBD;gDEG,kBF;kBDc;QCG;eGG;iBCC;eDG;SHC;GTkB;qBcE;kBNK;oCOE;mEPC;QME;eFG;iBCC;kBDG;SEC;GdS;qBgBE;eJmB,0BI;kBRC,mCQ;GhBgB;CDkB;uBkBE;ClBM"}},"type":"js/module"}]}