{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":57,"index":72}}],"key":"Q8MtNj8/mrt1iN8Kay94o881ERE=","exportNames":["*"]}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":73},"end":{"line":4,"column":69,"index":142}}],"key":"2BYIjnTRSFId8SRJ7sJFxLD1BD4=","exportNames":["*"]}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":143},"end":{"line":5,"column":68,"index":211}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"]}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":212},"end":{"line":6,"column":49,"index":261}}],"key":"HJ6ReZDVLtCQDFQShsuSOLiCtL0=","exportNames":["*"]}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"]}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":303},"end":{"line":8,"column":61,"index":364}}],"key":"6QYiO8x9sAoDBctSRJ19A8sqUNk=","exportNames":["*"]}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":365},"end":{"line":9,"column":99,"index":464}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"]}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":465},"end":{"line":10,"column":55,"index":520}}],"key":"ZDu7aL2iuT3Od7iyX13y9sY9XZQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[1], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = _interopRequireDefault(require(_dependencyMap[2], \"../../../RNGestureHandlerModule\"));\n  var _utils = require(_dependencyMap[3], \"../../utils\");\n  var _ActionType = require(_dependencyMap[4], \"../../../ActionType\");\n  var _Platform = _interopRequireDefault(require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\"));\n  var _ghQueueMicrotask = require(_dependencyMap[6], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[7], \"./utils\");\n  var _mountRegistry = require(_dependencyMap[8], \"../../../mountRegistry\");\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize();\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    }\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (_Platform.default.OS === 'web') {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":68,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"attachHandlers"],[8,24,1,13],[8,27,1,13,"attachHandlers"],[8,41,1,13],[9,2,3,0],[9,6,3,0,"_handlersRegistry"],[9,23,3,0],[9,26,3,0,"require"],[9,33,3,0],[9,34,3,0,"_dependencyMap"],[9,48,3,0],[10,2,4,0],[10,6,4,0,"_RNGestureHandlerModule"],[10,29,4,0],[10,32,4,0,"_interopRequireDefault"],[10,54,4,0],[10,55,4,0,"require"],[10,62,4,0],[10,63,4,0,"_dependencyMap"],[10,77,4,0],[11,2,5,0],[11,6,5,0,"_utils"],[11,12,5,0],[11,15,5,0,"require"],[11,22,5,0],[11,23,5,0,"_dependencyMap"],[11,37,5,0],[12,2,6,0],[12,6,6,0,"_ActionType"],[12,17,6,0],[12,20,6,0,"require"],[12,27,6,0],[12,28,6,0,"_dependencyMap"],[12,42,6,0],[13,2,6,49],[13,6,6,49,"_Platform"],[13,15,6,49],[13,18,6,49,"_interopRequireDefault"],[13,40,6,49],[13,41,6,49,"require"],[13,48,6,49],[13,49,6,49,"_dependencyMap"],[13,63,6,49],[14,2,8,0],[14,6,8,0,"_ghQueueMicrotask"],[14,23,8,0],[14,26,8,0,"require"],[14,33,8,0],[14,34,8,0,"_dependencyMap"],[14,48,8,0],[15,2,9,0],[15,6,9,0,"_utils2"],[15,13,9,0],[15,16,9,0,"require"],[15,23,9,0],[15,24,9,0,"_dependencyMap"],[15,38,9,0],[16,2,10,0],[16,6,10,0,"_mountRegistry"],[16,20,10,0],[16,23,10,0,"require"],[16,30,10,0],[16,31,10,0,"_dependencyMap"],[16,45,10,0],[17,2,11,7],[17,11,11,16,"attachHandlers"],[17,25,11,30,"attachHandlers"],[17,26,11,31],[18,4,12,2,"preparedGesture"],[18,19,12,17],[19,4,13,2,"gestureConfig"],[19,17,13,15],[20,4,14,2,"gesturesToAttach"],[20,20,14,18],[21,4,15,2,"viewTag"],[21,11,15,9],[22,4,16,2,"webEventHandlersRef"],[23,2,17,0],[23,3,17,1],[23,5,17,3],[24,4,18,2,"gestureConfig"],[24,17,18,15],[24,18,18,16,"initialize"],[24,28,18,26],[24,29,18,27],[24,30,18,28],[26,4,20,2],[27,4,21,2],[28,4,22,2],[28,8,22,2,"ghQueueMicrotask"],[28,42,22,18],[28,44,22,19],[28,50,22,25],[29,6,23,4],[29,10,23,8],[29,11,23,9,"preparedGesture"],[29,26,23,24],[29,27,23,25,"isMounted"],[29,36,23,34],[29,38,23,36],[30,8,24,6],[31,6,25,4],[32,6,26,4,"gestureConfig"],[32,19,26,17],[32,20,26,18,"prepare"],[32,27,26,25],[32,28,26,26],[32,29,26,27],[33,4,27,2],[33,5,27,3],[33,6,27,4],[34,4,28,2],[34,9,28,7],[34,15,28,13,"handler"],[34,22,28,20],[34,26,28,24,"gesturesToAttach"],[34,42,28,40],[34,44,28,42],[35,6,29,4],[35,10,29,4,"checkGestureCallbacksForWorklets"],[35,50,29,36],[35,52,29,37,"handler"],[35,59,29,44],[35,60,29,45],[36,6,30,4,"RNGestureHandlerModule"],[36,37,30,26],[36,38,30,27,"createGestureHandler"],[36,58,30,47],[36,59,30,48,"handler"],[36,66,30,55],[36,67,30,56,"handlerName"],[36,78,30,67],[36,80,30,69,"handler"],[36,87,30,76],[36,88,30,77,"handlerTag"],[36,98,30,87],[36,100,30,89],[36,104,30,89,"filterConfig"],[36,123,30,101],[36,125,30,102,"handler"],[36,132,30,109],[36,133,30,110,"config"],[36,139,30,116],[36,141,30,118,"ALLOWED_PROPS"],[36,162,30,131],[36,163,30,132],[36,164,30,133],[37,6,31,4],[37,10,31,4,"registerHandler"],[37,43,31,19],[37,45,31,20,"handler"],[37,52,31,27],[37,53,31,28,"handlerTag"],[37,63,31,38],[37,65,31,40,"handler"],[37,72,31,47],[37,74,31,49,"handler"],[37,81,31,56],[37,82,31,57,"config"],[37,88,31,63],[37,89,31,64,"testId"],[37,95,31,70],[37,96,31,71],[38,4,32,2],[40,4,34,2],[41,4,35,2],[42,4,36,2],[42,8,36,2,"ghQueueMicrotask"],[42,42,36,18],[42,44,36,19],[42,50,36,25],[43,6,37,4],[43,10,37,8],[43,11,37,9,"preparedGesture"],[43,26,37,24],[43,27,37,25,"isMounted"],[43,36,37,34],[43,38,37,36],[44,8,38,6],[45,6,39,4],[46,6,40,4],[46,11,40,9],[46,17,40,15,"handler"],[46,24,40,22],[46,28,40,26,"gesturesToAttach"],[46,44,40,42],[46,46,40,44],[47,8,41,6,"RNGestureHandlerModule"],[47,39,41,28],[47,40,41,29,"updateGestureHandler"],[47,60,41,49],[47,61,41,50,"handler"],[47,68,41,57],[47,69,41,58,"handlerTag"],[47,79,41,68],[47,81,41,70],[47,85,41,70,"filterConfig"],[47,104,41,82],[47,106,41,83,"handler"],[47,113,41,90],[47,114,41,91,"config"],[47,120,41,97],[47,122,41,99,"ALLOWED_PROPS"],[47,143,41,112],[47,145,41,114],[47,149,41,114,"extractGestureRelations"],[47,180,41,137],[47,182,41,138,"handler"],[47,189,41,145],[47,190,41,146],[47,191,41,147],[47,192,41,148],[48,6,42,4],[49,6,43,4],[49,10,43,4,"scheduleFlushOperations"],[49,40,43,27],[49,42,43,28],[49,43,43,29],[50,4,44,2],[50,5,44,3],[50,6,44,4],[51,4,45,2],[51,9,45,7],[51,15,45,13,"gesture"],[51,22,45,20],[51,26,45,24,"gesturesToAttach"],[51,42,45,40],[51,44,45,42],[52,6,46,4],[52,12,46,10,"actionType"],[52,22,46,20],[52,25,46,23,"gesture"],[52,32,46,30],[52,33,46,31,"shouldUseReanimated"],[52,52,46,50],[52,55,46,53,"ActionType"],[52,77,46,63],[52,78,46,64,"REANIMATED_WORKLET"],[52,96,46,82],[52,99,46,85,"ActionType"],[52,121,46,95],[52,122,46,96,"JS_FUNCTION_NEW_API"],[52,141,46,115],[53,6,47,4],[53,10,47,8,"Platform"],[53,27,47,16],[53,28,47,17,"OS"],[53,30,47,19],[53,35,47,24],[53,40,47,29],[53,42,47,31],[54,8,48,6,"RNGestureHandlerModule"],[54,39,48,28],[54,40,48,29,"attachGestureHandler"],[54,60,48,49],[54,61,48,50,"gesture"],[54,68,48,57],[54,69,48,58,"handlerTag"],[54,79,48,68],[54,81,48,70,"viewTag"],[54,88,48,77],[54,90,48,79,"ActionType"],[54,112,48,89],[54,113,48,90,"JS_FUNCTION_OLD_API"],[54,132,48,109],[55,8,49,6],[56,8,50,6,"webEventHandlersRef"],[56,27,50,25],[56,28,50,26],[57,6,51,4],[57,7,51,5],[57,13,51,11],[58,8,52,6,"RNGestureHandlerModule"],[58,39,52,28],[58,40,52,29,"attachGestureHandler"],[58,60,52,49],[58,61,52,50,"gesture"],[58,68,52,57],[58,69,52,58,"handlerTag"],[58,79,52,68],[58,81,52,70,"viewTag"],[58,88,52,77],[58,90,52,79,"actionType"],[58,100,52,89],[58,101,52,90],[59,6,53,4],[60,6,54,4,"MountRegistry"],[60,34,54,17],[60,35,54,18,"gestureWillMount"],[60,51,54,34],[60,52,54,35,"gesture"],[60,59,54,42],[60,60,54,43],[61,4,55,2],[62,4,56,2,"preparedGesture"],[62,19,56,17],[62,20,56,18,"attachedGestures"],[62,36,56,34],[62,39,56,37,"gesturesToAttach"],[62,55,56,53],[63,4,57,2],[63,8,57,6,"preparedGesture"],[63,23,57,21],[63,24,57,22,"animatedHandlers"],[63,40,57,38],[63,42,57,40],[64,6,58,4],[64,12,58,10,"isAnimatedGesture"],[64,29,58,27],[64,32,58,30,"g"],[64,33,58,31],[64,37,58,35,"g"],[64,38,58,36],[64,39,58,37,"shouldUseReanimated"],[64,58,58,56],[65,6,59,4,"preparedGesture"],[65,21,59,19],[65,22,59,20,"animatedHandlers"],[65,38,59,36],[65,39,59,37,"value"],[65,44,59,42],[65,47,59,45,"gesturesToAttach"],[65,63,59,61],[65,64,59,62,"filter"],[65,70,59,68],[65,71,59,69,"isAnimatedGesture"],[65,88,59,86],[65,89,59,87],[65,90,59,88,"map"],[65,93,59,91],[65,94,59,92,"g"],[65,95,59,93],[65,99,59,97,"g"],[65,100,59,98],[65,101,59,99,"handlers"],[65,109,59,107],[65,110,59,108],[66,4,60,2],[67,2,61,0],[68,0,61,1],[68,3]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCU;mBCW;GDK;mBCS;GDQ;8BEc,0BF;4FGC,eH;CDE"}},"type":"js/module"}]}