{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.PressableStateMachine = void 0;\n  class PressableStateMachine {\n    constructor() {\n      this.states = null;\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    setStates(states) {\n      this.states = states;\n    }\n    reset() {\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    handleEvent(eventName, eventPayload) {\n      if (!this.states) {\n        return;\n      }\n      const step = this.states[this.currentStepIndex];\n      this.eventPayload = eventPayload || this.eventPayload;\n      if (step.eventName !== eventName) {\n        if (this.currentStepIndex > 0) {\n          // retry with position at index 0\n          this.reset();\n          this.handleEvent(eventName, eventPayload);\n        }\n        return;\n      }\n      if (this.eventPayload && step.callback) {\n        step.callback(this.eventPayload);\n      }\n      this.currentStepIndex++;\n      if (this.currentStepIndex === this.states.length) {\n        this.reset();\n      }\n    }\n  }\n  exports.PressableStateMachine = PressableStateMachine;\n});","lineCount":45,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"PressableStateMachine"],[7,31,1,13],[8,2,3,0],[8,8,3,6,"PressableStateMachine"],[8,29,3,27],[8,30,3,28],[9,4,4,2,"constructor"],[9,15,4,13,"constructor"],[9,16,4,13],[9,18,4,16],[10,6,5,4],[10,10,5,8],[10,11,5,9,"states"],[10,17,5,15],[10,20,5,18],[10,24,5,22],[11,6,6,4],[11,10,6,8],[11,11,6,9,"currentStepIndex"],[11,27,6,25],[11,30,6,28],[11,31,6,29],[12,6,7,4],[12,10,7,8],[12,11,7,9,"eventPayload"],[12,23,7,21],[12,26,7,24],[12,30,7,28],[13,4,8,2],[14,4,9,2,"setStates"],[14,13,9,11,"setStates"],[14,14,9,12,"states"],[14,20,9,18],[14,22,9,20],[15,6,10,4],[15,10,10,8],[15,11,10,9,"states"],[15,17,10,15],[15,20,10,18,"states"],[15,26,10,24],[16,4,11,2],[17,4,12,2,"reset"],[17,9,12,7,"reset"],[17,10,12,7],[17,12,12,10],[18,6,13,4],[18,10,13,8],[18,11,13,9,"currentStepIndex"],[18,27,13,25],[18,30,13,28],[18,31,13,29],[19,6,14,4],[19,10,14,8],[19,11,14,9,"eventPayload"],[19,23,14,21],[19,26,14,24],[19,30,14,28],[20,4,15,2],[21,4,16,2,"handleEvent"],[21,15,16,13,"handleEvent"],[21,16,16,14,"eventName"],[21,25,16,23],[21,27,16,25,"eventPayload"],[21,39,16,37],[21,41,16,39],[22,6,17,4],[22,10,17,8],[22,11,17,9],[22,15,17,13],[22,16,17,14,"states"],[22,22,17,20],[22,24,17,22],[23,8,18,6],[24,6,19,4],[25,6,20,4],[25,12,20,10,"step"],[25,16,20,14],[25,19,20,17],[25,23,20,21],[25,24,20,22,"states"],[25,30,20,28],[25,31,20,29],[25,35,20,33],[25,36,20,34,"currentStepIndex"],[25,52,20,50],[25,53,20,51],[26,6,21,4],[26,10,21,8],[26,11,21,9,"eventPayload"],[26,23,21,21],[26,26,21,24,"eventPayload"],[26,38,21,36],[26,42,21,40],[26,46,21,44],[26,47,21,45,"eventPayload"],[26,59,21,57],[27,6,22,4],[27,10,22,8,"step"],[27,14,22,12],[27,15,22,13,"eventName"],[27,24,22,22],[27,29,22,27,"eventName"],[27,38,22,36],[27,40,22,38],[28,8,23,6],[28,12,23,10],[28,16,23,14],[28,17,23,15,"currentStepIndex"],[28,33,23,31],[28,36,23,34],[28,37,23,35],[28,39,23,37],[29,10,24,8],[30,10,25,8],[30,14,25,12],[30,15,25,13,"reset"],[30,20,25,18],[30,21,25,19],[30,22,25,20],[31,10,26,8],[31,14,26,12],[31,15,26,13,"handleEvent"],[31,26,26,24],[31,27,26,25,"eventName"],[31,36,26,34],[31,38,26,36,"eventPayload"],[31,50,26,48],[31,51,26,49],[32,8,27,6],[33,8,28,6],[34,6,29,4],[35,6,30,4],[35,10,30,8],[35,14,30,12],[35,15,30,13,"eventPayload"],[35,27,30,25],[35,31,30,29,"step"],[35,35,30,33],[35,36,30,34,"callback"],[35,44,30,42],[35,46,30,44],[36,8,31,6,"step"],[36,12,31,10],[36,13,31,11,"callback"],[36,21,31,19],[36,22,31,20],[36,26,31,24],[36,27,31,25,"eventPayload"],[36,39,31,37],[36,40,31,38],[37,6,32,4],[38,6,33,4],[38,10,33,8],[38,11,33,9,"currentStepIndex"],[38,27,33,25],[38,29,33,27],[39,6,34,4],[39,10,34,8],[39,14,34,12],[39,15,34,13,"currentStepIndex"],[39,31,34,29],[39,36,34,34],[39,40,34,38],[39,41,34,39,"states"],[39,47,34,45],[39,48,34,46,"length"],[39,54,34,52],[39,56,34,54],[40,8,35,6],[40,12,35,10],[40,13,35,11,"reset"],[40,18,35,16],[40,19,35,17],[40,20,35,18],[41,6,36,4],[42,4,37,2],[43,2,38,0],[44,2,38,1,"exports"],[44,9,38,1],[44,10,38,1,"PressableStateMachine"],[44,31,38,1],[44,34,38,1,"PressableStateMachine"],[44,55,38,1],[45,0,38,1],[45,3]],"functionMap":{"names":["<global>","PressableStateMachine","PressableStateMachine#constructor","PressableStateMachine#setStates","PressableStateMachine#reset","PressableStateMachine#handleEvent"],"mappings":"AAA;ACE;ECC;GDI;EEC;GFE;EGC;GHG;EIC;GJqB;CDC"}},"type":"js/module"}]}